{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/wdelacruz/project_2021/matx-react/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/Users/wdelacruz/project_2021/matx-react/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar RawTask = /*#__PURE__*/function () {\n  function RawTask(onError, release) {\n    _classCallCheck(this, RawTask);\n\n    this.onError = onError;\n    this.release = release;\n    this.task = null;\n  }\n\n  _createClass(RawTask, [{\n    key: \"call\",\n    value: function call() {\n      try {\n        this.task && this.task();\n      } catch (error) {\n        this.onError(error);\n      } finally {\n        this.task = null;\n        this.release(this);\n      }\n    }\n  }]);\n\n  return RawTask;\n}();\n\nexports.RawTask = RawTask;","map":{"version":3,"sources":["../../src/RawTask.ts"],"names":["RawTask","task","onError","release","call","error"],"mappings":"AAEA;;;;;;;;;;IAGaA,O;EAGZ,iBACSE,OADT,EAESC,OAFT,EAGE;IAAA;;SAFOD,O,GAAAA,O;SACAC,O,GAAAA,O;SAJFF,I,GAAsB,I;EAKzB;;;;WAEGG,gBAAO;MACb,IAAI;QACH,KAAKH,IAAL,IAAa,KAAKA,IAAL,EAAb;MACA,CAFD,CAEE,OAAOI,KAAP,EAAc;QACf,KAAKH,OAAL,CAAaG,KAAb;MACA,CAJD,SAIU;QACT,KAAKJ,IAAL,GAAY,IAAZ;QACA,KAAKE,OAAL,CAAa,IAAb;MACA;IACD;;;;;;QAjBWH,O,GAAAA,O","sourcesContent":["// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { TaskFn, Task } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}