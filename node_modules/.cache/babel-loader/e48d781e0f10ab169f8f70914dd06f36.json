{"ast":null,"code":"import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport React, { PureComponent, Component, Fragment } from 'react';\nimport { compose, createStore, applyMiddleware, bindActionCreators } from 'redux';\nimport invariant from 'tiny-invariant';\nimport PropTypes from 'prop-types';\nimport { getRect, createBox, withScroll, offset, getBox, expand, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport { connect } from 'react-redux';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\nvar origin = {\n  x: 0,\n  y: 0\n};\n\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\n\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\n\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\n\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\n\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\n\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\n\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\n\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = function executeClip(frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n};\n\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\n\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = function getSubject(_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n};\n\nvar scrollDroppable = function scrollDroppable(droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n};\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\n\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\n\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nfunction values(map) {\n  return _Object$values(map);\n}\n\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar isWithin = function isWithin(lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n};\n\nvar isPositionInFrame = function isPositionInFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n};\n\nvar getDroppableOver = function getDroppableOver(_ref) {\n  var target = _ref.target,\n      droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    var active = droppable.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n};\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nvar isPartiallyVisibleThroughFrame = function isPartiallyVisibleThroughFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n};\n\nvar isTotallyVisibleThroughFrame = function isTotallyVisibleThroughFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n};\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = function isTotallyVisibleThroughFrameOnAxis(axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n};\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(isVisible, previous) {\n  if (!isVisible) {\n    return false;\n  }\n\n  if (!previous) {\n    return true;\n  }\n\n  return previous.shouldAnimate;\n};\n\nvar getDisplacement = function getDisplacement(_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var isVisible = isPartiallyVisible({\n    target: draggable.page.marginBox,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n};\n\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\n\nvar isUserMovingForward = function isUserMovingForward(axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n};\n\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy, willDisplaceForward) {\n  var modifier = willDisplaceForward ? 1 : -1;\n  var displacement = displaceBy[axis.line] * modifier;\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getNewIndex = function getNewIndex(startIndex, amountOfDisplaced, isInFrontOfStart) {\n  if (!amountOfDisplaced) {\n    return startIndex;\n  }\n\n  if (isInFrontOfStart) {\n    return startIndex + amountOfDisplaced;\n  }\n\n  return startIndex - amountOfDisplaced;\n};\n\nvar inHomeList = function inHomeList(_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      home = _ref.home,\n      insideHome = _ref.insideHome,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      currentUserDirection = _ref.userDirection;\n  var axis = home.axis;\n  var originalCenter = draggable.page.borderBox.center;\n  var targetCenter = currentCenter[axis.line];\n  var isInFrontOfStart = targetCenter > originalCenter[axis.line];\n  var willDisplaceForward = !isInFrontOfStart;\n  var isMovingForward = isUserMovingForward(home.axis, currentUserDirection);\n  var isMovingTowardStart = isInFrontOfStart ? !isMovingForward : isMovingForward;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy, willDisplaceForward);\n  var displacement = displacedBy.value;\n  var displaced = insideHome.filter(function (child) {\n    if (child === draggable) {\n      return false;\n    }\n\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n\n    if (isInFrontOfStart) {\n      if (child.descriptor.index < draggable.descriptor.index) {\n        return false;\n      }\n\n      if (isMovingTowardStart) {\n        var displacedEndEdge = end + displacement;\n        return targetCenter > displacedEndEdge;\n      }\n\n      return targetCenter >= start;\n    }\n\n    if (child.descriptor.index > draggable.descriptor.index) {\n      return false;\n    }\n\n    if (isMovingTowardStart) {\n      var displacedStartEdge = start + displacement;\n      return targetCenter < displacedStartEdge;\n    }\n\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: previousImpact,\n      viewport: viewport.frame\n    });\n  });\n  var ordered = isInFrontOfStart ? displaced.reverse() : displaced;\n  var index = getNewIndex(draggable.descriptor.index, ordered.length, isInFrontOfStart);\n  var newMovement = {\n    displaced: ordered,\n    map: getDisplacementMap(ordered),\n    willDisplaceForward: willDisplaceForward,\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: newMovement,\n    direction: axis.direction,\n    destination: {\n      droppableId: home.descriptor.id,\n      index: index\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar inForeignList = function inForeignList(_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy, true);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestination.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n\n    if (isMovingForward) {\n      return targetCenter <= start + displacement;\n    }\n\n    return targetCenter < end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame\n    });\n  });\n  var newIndex = insideDestination.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    willDisplaceForward: true\n  };\n  var impact = {\n    movement: movement,\n    direction: axis.direction,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy,\n  willDisplaceForward: false\n};\nvar noImpact = {\n  movement: noMovement,\n  direction: null,\n  destination: null,\n  merge: null\n};\n\nvar withDroppableScroll = function withDroppableScroll(droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.value);\n};\n\nvar isHomeOf = function isHomeOf(draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n};\n\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n\n  return oldMerge.whenEntered;\n};\n\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n      currentCenter = _ref.currentCenter,\n      axis = _ref.axis,\n      borderBox = _ref.borderBox,\n      displacedBy = _ref.displacedBy,\n      currentUserDirection = _ref.currentUserDirection,\n      oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displacedBy;\n  var end = borderBox[axis.end] + displacedBy;\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\n\nvar getCombineImpact = function getCombineImpact(_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n      previousImpact = _ref2.previousImpact,\n      draggable = _ref2.draggable,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      userDirection = _ref2.userDirection;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy.value;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestination, function (child) {\n    var id = child.descriptor.id;\n\n    if (id === draggable.descriptor.id) {\n      return false;\n    }\n\n    var isDisplaced = Boolean(map[id]);\n    var displacedBy = isDisplaced ? canBeDisplacedBy : 0;\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displacedBy: displacedBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n\n  if (!target) {\n    return null;\n  }\n\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n\n  return withMerge;\n};\n\nvar getDragImpact = function getDragImpact(_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var isWithinHomeDroppable = isHomeOf(draggable, destination);\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    userDirection: userDirection\n  });\n\n  if (withMerge) {\n    return withMerge;\n  }\n\n  return isWithinHomeDroppable ? inHomeList({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    draggable: draggable,\n    home: destination,\n    insideHome: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection\n  }) : inForeignList({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection\n  });\n};\n\nvar getDragPositions = function getDragPositions(_ref) {\n  var oldInitial = _ref.initial,\n      oldCurrent = _ref.current,\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n      viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  var current = function () {\n    var reverse = negate(shift);\n    var offset$$1 = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset$$1),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset$$1),\n      offset: offset$$1\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  return {\n    current: current,\n    initial: initial\n  };\n};\n\nvar getMaxScroll = function getMaxScroll(_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n};\n\nvar getDroppableDimension = function getDroppableDimension(_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest$$1 = _ref.closest;\n\n  var frame = function () {\n    if (!closest$$1) {\n      return null;\n    }\n\n    var scrollSize = closest$$1.scrollSize,\n        frameClient = closest$$1.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest$$1.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest$$1.shouldClipSubject,\n      scroll: {\n        initial: closest$$1.scroll,\n        current: closest$$1.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n};\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, displaceBy, draggables) {\n  var frame = droppable.frame;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = patch(droppable.axis.line, displaceBy[droppable.axis.line]);\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar getFrame = function getFrame(droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n};\n\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\n\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\n\nvar adjustModifiedDroppables = function adjustModifiedDroppables(_ref) {\n  var modified = _ref.modified,\n      existingDroppables = _ref.existingDroppables,\n      initialWindowScroll = _ref.initialWindowScroll;\n\n  if (!modified.length) {\n    return modified;\n  }\n\n  var adjusted = modified.map(function (provided) {\n    var raw = existingDroppables[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var existing = raw.subject.withPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = existing.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(existing);\n    var newScrollable = getFrame(provided);\n\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(existing.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(existing.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, initialWindowScroll),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, initialWindowScroll),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n  return adjusted;\n};\n\nvar adjustAdditionsForScrollChanges = function adjustAdditionsForScrollChanges(_ref) {\n  var additions = _ref.additions,\n      modifiedDroppables = _ref.modified,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  var modifiedMap = toDroppableMap(modifiedDroppables);\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = modifiedMap[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var client = offset(draggable.client, totalChange);\n    var page = withScroll(client, viewport.scroll.initial);\n\n    var moved = _extends({}, draggable, {\n      placeholder: _extends({}, draggable.placeholder, {\n        client: client\n      }),\n      client: client,\n      page: page\n    });\n\n    return moved;\n  });\n};\n\nvar getDraggableMap = function getDraggableMap(_ref) {\n  var existing = _ref.existing,\n      addedDraggables = _ref.additions,\n      removedDraggables = _ref.removals,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var droppables = toDroppableList(existing.droppables);\n  var shifted = {};\n  droppables.forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing.draggables);\n    var toShift = {};\n\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      return existing.draggables[id];\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n\n      if (!isBeingRemoved) {\n        return true;\n      }\n\n      var offset$$1 = negate(patch(axis.line, item.client.marginBox[axis.size]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset$$1\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n\n      if (!wasAdded) {\n        return;\n      }\n\n      var offset$$1 = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset$$1\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n\n      var shift = toShift[item.descriptor.id];\n\n      if (!shift) {\n        return;\n      }\n\n      var client = offset(item.client, shift.offset);\n      var page = withScroll(client, initialWindowScroll);\n      var index = item.descriptor.index + shift.indexChange;\n\n      var moved = _extends({}, item, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        }),\n        placeholder: _extends({}, item.placeholder, {\n          client: client\n        }),\n        client: client,\n        page: page\n      });\n\n      shifted[moved.descriptor.id] = moved;\n    });\n  });\n\n  var draggableMap = _extends({}, existing.draggables, {}, shifted, {}, toDraggableMap(addedDraggables));\n\n  removedDraggables.forEach(function (id) {\n    delete draggableMap[id];\n  });\n  return draggableMap;\n};\n\nvar withNoAnimatedDisplacement = function withNoAnimatedDisplacement(impact) {\n  var displaced = impact.movement.displaced;\n\n  if (!displaced.length) {\n    return impact;\n  }\n\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n\n  return result;\n};\n\nvar whatIsDraggedOver = function whatIsDraggedOver(impact) {\n  var merge = impact.merge,\n      destination = impact.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n\n  return null;\n};\n\nvar shouldUsePlaceholder = function shouldUsePlaceholder(descriptor, impact) {\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return false;\n  }\n\n  return isOver !== descriptor.droppableId;\n};\n\nvar patchDroppableMap = function patchDroppableMap(dimensions, updated) {\n  var _extends2;\n\n  return _extends({}, dimensions, {\n    droppables: _extends({}, dimensions.droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2))\n  });\n};\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      dimensions = _ref.dimensions;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return dimensions;\n  }\n\n  if (last === now) {\n    return dimensions;\n  }\n\n  var lastDroppable = dimensions.droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return dimensions;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(dimensions, updated);\n};\n\nvar getDimensionMapWithPlaceholder = function getDimensionMapWithPlaceholder(_ref2) {\n  var dimensions = _ref2.dimensions,\n      previousImpact = _ref2.previousImpact,\n      draggable = _ref2.draggable,\n      impact = _ref2.impact;\n  var base = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    dimensions: dimensions\n  });\n  var usePlaceholder = shouldUsePlaceholder(draggable.descriptor, impact);\n\n  if (!usePlaceholder) {\n    return base;\n  }\n\n  var droppableId = whatIsDraggedOver(impact);\n\n  if (!droppableId) {\n    return base;\n  }\n\n  var droppable = base.droppables[droppableId];\n\n  if (droppable.subject.withPlaceholder) {\n    return base;\n  }\n\n  var patched = addPlaceholder(droppable, draggable.displaceBy, base.draggables);\n  return patchDroppableMap(base, patched);\n};\n\nvar timingsKey = 'Processing dynamic changes';\n\nvar publishWhileDragging = function publishWhileDragging(_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var adjusted = adjustModifiedDroppables({\n    modified: published.modified,\n    existingDroppables: state.dimensions.droppables,\n    initialWindowScroll: state.viewport.scroll.initial\n  });\n  var shifted = adjustAdditionsForScrollChanges({\n    additions: published.additions,\n    modified: adjusted,\n    viewport: state.viewport\n  });\n  var patched = {\n    draggables: state.dimensions.draggables,\n    droppables: _extends({}, state.dimensions.droppables, {}, toDroppableMap(adjusted))\n  };\n  var draggables = getDraggableMap({\n    existing: patched,\n    additions: shifted,\n    removals: published.removals,\n    initialWindowScroll: state.viewport.scroll.initial\n  });\n  var dragging = state.critical.draggable.id;\n  var original = state.dimensions.draggables[dragging];\n  var updated = draggables[dragging];\n  var dimensions = getDimensionMapWithPlaceholder({\n    previousImpact: state.impact,\n    impact: state.impact,\n    draggable: updated,\n    dimensions: {\n      draggables: draggables,\n      droppables: patched.droppables\n    }\n  });\n  var critical = {\n    droppable: state.critical.droppable,\n    draggable: updated.descriptor\n  };\n\n  var _getDragPositions = getDragPositions({\n    initial: state.initial,\n    current: state.current,\n    oldClientBorderBoxCenter: original.client.borderBox.center,\n    newClientBorderBoxCenter: updated.client.borderBox.center,\n    viewport: state.viewport\n  }),\n      initial = _getDragPositions.initial,\n      current = _getDragPositions.current;\n\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: dimensions.draggables[state.critical.draggable.id],\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: noImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && state.impact.destination && !impact.destination);\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n};\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = function getBestCrossAxisDroppable(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n};\n\nvar withDroppableDisplacement = function withDroppableDisplacement(droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n};\n\nvar getClosestDraggable = function getClosestDraggable(_ref) {\n  var axis = _ref.axis,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: draggable.page.borderBox,\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, a.page.borderBox.center));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, b.page.borderBox.center));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.page.borderBox[axis.start] - b.page.borderBox[axis.start];\n  });\n  return sorted[0] || null;\n};\n\nvar getWillDisplaceForward = function getWillDisplaceForward(_ref) {\n  var isInHomeList = _ref.isInHomeList,\n      proposedIndex = _ref.proposedIndex,\n      startIndexInHome = _ref.startIndexInHome;\n  return isInHomeList ? proposedIndex < startIndexInHome : true;\n};\n\nvar getHomeLocation = function getHomeLocation(descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n};\n\nvar getHomeImpact = function getHomeImpact(draggable, home) {\n  return {\n    movement: noMovement,\n    direction: home.axis.direction,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n};\n\nvar toHomeList = function toHomeList(_ref) {\n  var moveIntoIndexOf = _ref.moveIntoIndexOf,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n\n  if (!moveIntoIndexOf) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var homeIndex = draggable.descriptor.index;\n  var targetIndex = moveIntoIndexOf.descriptor.index;\n\n  if (homeIndex === targetIndex) {\n    return getHomeImpact(draggable, destination);\n  }\n\n  var willDisplaceForward = getWillDisplaceForward({\n    isInHomeList: true,\n    proposedIndex: targetIndex,\n    startIndexInHome: homeIndex\n  });\n  var isMovingAfterStart = !willDisplaceForward;\n  var modified = isMovingAfterStart ? insideDestination.slice(homeIndex + 1, targetIndex + 1).reverse() : insideDestination.slice(targetIndex, homeIndex);\n  var displaced = modified.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame\n    });\n  });\n  !displaced.length ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must displace as least one thing if not moving into the home index') : invariant(false) : void 0;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy, willDisplaceForward);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced),\n      willDisplaceForward: willDisplaceForward\n    },\n    direction: axis.direction,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: targetIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar whenCombining = function whenCombining(_ref) {\n  var combine = _ref.combine,\n      movement = _ref.movement,\n      draggables = _ref.draggables;\n  var groupingWith = combine.draggableId;\n  var isDisplaced = Boolean(movement.map[groupingWith]);\n  var center = draggables[groupingWith].page.borderBox.center;\n  return isDisplaced ? add(center, movement.displacedBy.point) : center;\n};\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = function whenReordering(_ref) {\n  var movement = _ref.movement,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = movement.displaced,\n      willDisplaceForward = movement.willDisplaceForward,\n      displacedBy = movement.displacedBy;\n  var isOverHome = isHomeOf(draggable, droppable);\n  var closest = displaced.length ? draggables[displaced[0].draggableId] : null;\n\n  if (!closest) {\n    if (isOverHome) {\n      return draggable.page.borderBox.center;\n    }\n\n    var moveRelativeTo = insideDestination[insideDestination.length - 1];\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: moveRelativeTo.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displacedClosest = offset(closest.page, displacedBy.point);\n\n  if (willDisplaceForward) {\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: displacedClosest,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: displacedClosest,\n    isMoving: draggablePage\n  });\n};\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable\n    });\n  }\n\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables\n    });\n  }\n\n  return original;\n};\n\nvar getPageBorderBoxCenter = function getPageBorderBoxCenter(args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n};\n\nvar isTotallyVisibleInNewLocation = function isTotallyVisibleInNewLocation(_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var diff = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, diff);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n\n  if (onlyOnMainAxis) {\n    return isTotallyVisibleOnAxis(args);\n  }\n\n  return isTotallyVisible(args);\n};\n\nvar toForeignList = function toForeignList(_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n  var axis = destination.axis;\n\n  if (!moveRelativeTo || !insideDestination.length) {\n    var proposed = {\n      movement: noMovement,\n      direction: axis.direction,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var pageBorderBoxCenter = getPageBorderBoxCenter({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables\n    });\n    var withPlaceholder = addPlaceholder(destination, draggable.displaceBy, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: pageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find draggable in foreign list') : invariant(false) : void 0;\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var proposedIndex = isGoingBeforeTarget ? targetIndex : targetIndex + 1;\n  var displaced = insideDestination.slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact\n    });\n  });\n  var willDisplaceForward = true;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy, willDisplaceForward);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced),\n      willDisplaceForward: willDisplaceForward\n    },\n    direction: axis.direction,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar moveToNewDroppable = function moveToNewDroppable(_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      moveRelativeTo = _ref.moveRelativeTo,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n\n  if (insideDestination.length && !moveRelativeTo) {\n    return null;\n  }\n\n  if (moveRelativeTo) {\n    !(moveRelativeTo.descriptor.droppableId === destination.descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unable to find target in destination droppable') : invariant(false) : void 0;\n  }\n\n  var isMovingToHome = isHomeOf(draggable, destination);\n  return isMovingToHome ? toHomeList({\n    moveIntoIndexOf: moveRelativeTo,\n    insideDestination: insideDestination,\n    draggable: draggable,\n    destination: destination,\n    previousImpact: previousImpact,\n    viewport: viewport\n  }) : toForeignList({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    previousImpact: previousImpact,\n    viewport: viewport\n  });\n};\n\nvar withViewportDisplacement = function withViewportDisplacement(viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n};\n\nvar getClientFromPageBorderBoxCenter = function getClientFromPageBorderBoxCenter(_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset$$1 = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset$$1);\n};\n\nvar moveCrossAxis = function moveCrossAxis(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    axis: destination.axis,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n};\n\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\n\nvar moveToNextCombine = function moveToNextCombine(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      originalInsideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (targetIndex < 0) {\n    return null;\n  }\n\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n\n  var target = currentInsideDestination[targetIndex];\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    direction: destination.axis.direction,\n    merge: merge\n  };\n  return impact;\n};\n\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\n\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\n\nvar fromReorder = function fromReorder(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      previousImpact = _ref.previousImpact,\n      draggable = _ref.draggable,\n      initialInside = _ref.insideDestination;\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move to next index without previous destination') : invariant(false) : void 0;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n};\n\nvar fromCombine = function fromCombine(_ref) {\n  var isInHomeList = _ref.isInHomeList,\n      isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      draggables = _ref.draggables,\n      merge = _ref.merge;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var isCombineDisplaced = Boolean(movement.map[combineId]);\n\n  if (!isCombineDisplaced) {\n    var willDisplaceForward = getWillDisplaceForward({\n      isInHomeList: isInHomeList,\n      proposedIndex: combineIndex,\n      startIndexInHome: draggable.descriptor.index\n    });\n\n    if (willDisplaceForward) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex + 1,\n          modifyDisplacement: false\n        };\n      }\n\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  var isDisplacedForward = movement.willDisplaceForward;\n  var visualIndex = isDisplacedForward ? combineIndex + 1 : combineIndex - 1;\n\n  if (isDisplacedForward) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: visualIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: visualIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  if (isMovingForward) {\n    return {\n      proposedIndex: visualIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n\n  return {\n    proposedIndex: visualIndex,\n    modifyDisplacement: true\n  };\n};\n\nvar getIsIncreasingDisplacement = function getIsIncreasingDisplacement(_ref) {\n  var isInHomeList = _ref.isInHomeList,\n      isMovingForward = _ref.isMovingForward,\n      proposedIndex = _ref.proposedIndex,\n      startIndexInHome = _ref.startIndexInHome;\n\n  if (!isInHomeList) {\n    return !isMovingForward;\n  }\n\n  if (isMovingForward) {\n    return proposedIndex > startIndexInHome;\n  }\n\n  return proposedIndex < startIndexInHome;\n};\n\nvar moveToNextIndex = function moveToNextIndex(_ref2) {\n  var isMovingForward = _ref2.isMovingForward,\n      isInHomeList = _ref2.isInHomeList,\n      draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      previousImpact = _ref2.previousImpact;\n\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        previousImpact: previousImpact,\n        insideDestination: insideDestination\n      });\n    }\n\n    !previousImpact.merge ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move to next spot without a destination or merge') : invariant(false) : void 0;\n    return fromCombine({\n      isInHomeList: isInHomeList,\n      isMovingForward: isMovingForward,\n      draggable: draggable,\n      destination: destination,\n      previousImpact: previousImpact,\n      draggables: draggables,\n      merge: previousImpact.merge\n    });\n  }();\n\n  if (instruction == null) {\n    return null;\n  }\n\n  var proposedIndex = instruction.proposedIndex,\n      modifyDisplacement = instruction.modifyDisplacement;\n  var startIndexInHome = draggable.descriptor.index;\n  var willDisplaceForward = getWillDisplaceForward({\n    isInHomeList: isInHomeList,\n    proposedIndex: proposedIndex,\n    startIndexInHome: startIndexInHome\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy, willDisplaceForward);\n  var atProposedIndex = insideDestination[proposedIndex];\n\n  var displaced = function () {\n    if (!modifyDisplacement) {\n      return previousImpact.movement.displaced;\n    }\n\n    var isIncreasingDisplacement = getIsIncreasingDisplacement({\n      isInHomeList: isInHomeList,\n      isMovingForward: isMovingForward,\n      proposedIndex: proposedIndex,\n      startIndexInHome: startIndexInHome\n    });\n    var lastDisplaced = previousImpact.movement.displaced;\n    return isIncreasingDisplacement ? addClosest(atProposedIndex, lastDisplaced) : removeClosest(lastDisplaced);\n  }();\n\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      willDisplaceForward: willDisplaceForward,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    direction: destination.axis.direction,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n};\n\nvar scrollViewport = function scrollViewport(viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n};\n\nvar withNewDisplacement = function withNewDisplacement(impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n};\n\nvar speculativelyIncrease = function speculativelyIncrease(_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n\n    var result = getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame\n    });\n\n    if (!result.isVisible) {\n      return entry;\n    }\n\n    return {\n      draggableId: entry.draggableId,\n      isVisible: true,\n      shouldAnimate: false\n    };\n  });\n  return withNewDisplacement(impact, updated);\n};\n\nvar moveToNextPlace = function moveToNextPlace(_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance$$1 = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance$$1\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance$$1\n  };\n};\n\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = function moveInDirection(_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  var viewport = state.viewport;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: viewport,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: viewport\n  });\n};\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'down' : 'up';\n};\n\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'right' : 'left';\n};\n\nvar getUserDirection = function getUserDirection(previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n};\n\nvar update = function update(_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset$$1 = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset$$1,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset$$1)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection\n  });\n  var withUpdatedPlaceholders = getDimensionMapWithPlaceholder({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    dimensions: dimensions\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: withUpdatedPlaceholders,\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n};\n\nvar recomputeDisplacementVisibility = function recomputeDisplacementVisibility(_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame\n    });\n  });\n  return withNewDisplacement(impact, updated);\n};\n\nvar getClientBorderBoxCenter = function getClientBorderBoxCenter(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var pageBorderBoxCenter = getPageBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n};\n\nvar refreshSnap = function refreshSnap(_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recomputeDisplacementVisibility({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n};\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDroppableMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nvar idle = {\n  phase: 'IDLE'\n};\n\nvar reducer = function reducer(state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'CLEAN') {\n    return idle;\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: getHomeImpact(draggable, home),\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        offset$$1 = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, offset$$1);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n\n    var _viewport = scrollViewport(state.viewport, newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update viewport scroll in phase \" + state.phase) : invariant(false) : void 0;\n    var maxScroll = action.payload.maxScroll;\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var pending = action.payload;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      pending: pending,\n      dimensions: state.dimensions\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    return idle;\n  }\n\n  return state;\n};\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\n\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\n\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\n\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\n\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\n\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\n\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\n\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\n\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\n\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\n\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\n\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\n\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\n\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\n\nvar clean = function clean() {\n  return {\n    type: 'CLEAN',\n    payload: null\n  };\n};\n\nvar animateDrop = function animateDrop(pending) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: pending\n  };\n};\n\nvar completeDrop = function completeDrop(result) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: result\n  };\n};\n\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\n\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\n\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nvar lift$1 = function lift$1(getMarshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var marshal = getMarshal();\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop(initial.pending.result));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n};\n\nvar style = function style(marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.result.reason);\n        }\n\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar minDropTime = 0.33;\nvar maxDropTime = 0.55;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\n\nvar getDropDuration = function getDropDuration(_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$$1 = distance(current, destination);\n\n  if (distance$$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n};\n\nvar getNewHomeClientOffset = function getNewHomeClientOffset(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset$$1 = subtract(newClientCenter, draggable.client.borderBox.center);\n  return offset$$1;\n};\n\nvar drop$1 = function drop$1(_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var impact = reason === 'DROP' ? state.impact : noImpact;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = impact ? impact.destination : null;\n      var combine = impact && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine,\n        reason: reason\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport\n      });\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop(result));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var pending = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        result: result,\n        impact: impact\n      };\n      dispatch(animateDrop(pending));\n    };\n  };\n};\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\n\nvar clean$1 = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean$1(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean$1(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\n\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\n\nvar warning = function warning(message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\n\nvar getExpiringAnnounce = function getExpiringAnnounce(announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n};\n\nvar getAsyncMarshal = function getAsyncMarshal() {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = entries.concat();\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n};\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\n\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\n\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = function getPublisher(getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start$$1 = function start$$1(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeStart: beforeStart,\n    start: start$$1,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n};\n\nvar responders = function responders(getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n};\n\nvar dropAnimationFinish = function dropAnimationFinish(store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop(state.pending.result));\n    };\n  };\n};\n\nvar dimensionMarshalStopper = function dimensionMarshalStopper(getMarshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          var marshal = getMarshal();\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\n\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\n\nvar autoScroll = function autoScroll(getScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          getScroller().stop();\n          next(action);\n          return;\n        }\n\n        if (shouldCancelPending(action)) {\n          getScroller().cancelPending();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          getScroller().start(state);\n          return;\n        }\n\n        next(action);\n        getScroller().scroll(store.getState());\n      };\n    };\n  };\n};\n\nvar pendingDrop = function pendingDrop(store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n};\n\nvar getDocumentElement = function getDocumentElement() {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n};\n\nvar getMaxWindowScroll = function getMaxWindowScroll() {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n};\n\nvar shouldCheckOnAction = function shouldCheckOnAction(action) {\n  return action.type === 'MOVE' || action.type === 'MOVE_UP' || action.type === 'MOVE_RIGHT' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_BY_WINDOW_SCROLL';\n};\n\nvar wasDestinationChange = function wasDestinationChange(previous, current, action) {\n  if (!shouldCheckOnAction(action)) {\n    return false;\n  }\n\n  if (!isMovementAllowed(previous) || !isMovementAllowed(current)) {\n    return false;\n  }\n\n  if (whatIsDraggedOver(previous.impact) === whatIsDraggedOver(current.impact)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar getUpdatedViewportMax = function getUpdatedViewportMax(viewport) {\n  var maxScroll = getMaxWindowScroll();\n\n  if (isEqual(viewport.scroll.max, maxScroll)) {\n    return null;\n  }\n\n  return maxScroll;\n};\n\nvar updateViewportMaxScrollOnDestinationChange = function updateViewportMaxScrollOnDestinationChange(store) {\n  return function (next) {\n    return function (action) {\n      var previous = store.getState();\n      next(action);\n      var current = store.getState();\n\n      if (!current.isDragging) {\n        return;\n      }\n\n      if (!wasDestinationChange(previous, current, action)) {\n        return;\n      }\n\n      var maxScroll = getUpdatedViewportMax(current.viewport);\n\n      if (maxScroll) {\n        next(updateViewportMaxScroll({\n          maxScroll: maxScroll\n        }));\n      }\n    };\n  };\n};\n\nvar composeEnhancers = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\n\nvar createStore$1 = function createStore$1(_ref) {\n  var getDimensionMarshal = _ref.getDimensionMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      getScroller = _ref.getScroller;\n  return createStore(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(getDimensionMarshal), lift$1(getDimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, updateViewportMaxScrollOnDestinationChange, autoScroll(getScroller), responders(getResponders, announce))));\n};\n\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\n\nvar createPublisher = function createPublisher(_ref) {\n  var getEntries = _ref.getEntries,\n      callbacks = _ref.callbacks;\n\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n\n  var staging = clean$2();\n  var frameId = null;\n\n  var collect = function collect() {\n    advancedUsageWarning();\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        return entry.callbacks.recollect();\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add$$1 = function add$$1(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n\n  return {\n    add: add$$1,\n    remove: remove,\n    stop: stop\n  };\n};\n\nvar getWindowScroll = function getWindowScroll() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar getViewport = function getViewport() {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n};\n\nvar getInitialPublish = function getInitialPublish(_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n};\n\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\n\nvar createDimensionMarshal = function createDimensionMarshal(callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n\n    if (!collection) {\n      return;\n    }\n\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n\n  var updateDraggable = function updateDraggable(previous, descriptor, getDimension) {\n    !entries.draggables[previous.id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no previous registration was found') : invariant(false) : void 0;\n    delete entries.draggables[previous.id];\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.draggables[descriptor.id];\n\n    if (!collection) {\n      return;\n    }\n\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppable = function updateDroppable(previous, descriptor, droppableCallbacks) {\n    !entries.droppables[previous.id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update droppable registration as no previous registration was found') : invariant(false) : void 0;\n    delete entries.droppables[previous.id];\n    var entry = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    entries.droppables[descriptor.id] = entry;\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'You are not able to update the id or type of a droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    entry.callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    updateDroppable: updateDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n};\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar outOfTheWayTime = 0.2;\nvar outOfTheWayTiming = outOfTheWayTime + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset$$1) {\n  return isEqual(offset$$1, origin) ? null : \"translate(\" + offset$$1.x + \"px, \" + offset$$1.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset$$1, isCombining) {\n    var translate = moveTo(offset$$1);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\n\nvar getStyles$1 = function getStyles$1(styleContext) {\n  var getSelector = makeGetSelector(styleContext);\n\n  var dragHandle$$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$$1, dragHandle$$1, droppable$$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n};\n\nvar count = 0;\n\nvar resetStyleContext = function resetStyleContext() {\n  count = 0;\n};\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\n\nvar createStyleMarshal = function createStyleMarshal() {\n  var context = \"\" + count++;\n  var styles = getStyles$1(context);\n  var always = null;\n  var dynamic = null;\n  var setStyle = memoizeOne(function (el, proposed) {\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set style of style tag if not mounted') : invariant(false) : void 0;\n    el.innerHTML = proposed;\n  });\n\n  var mount = function mount() {\n    !(!always && !dynamic) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Style marshal already mounted') : invariant(false) : void 0;\n    always = createStyleEl();\n    dynamic = createStyleEl();\n    always.setAttribute(prefix + \"-always\", context);\n    dynamic.setAttribute(prefix + \"-dynamic\", context);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setStyle(always, styles.always);\n    setStyle(dynamic, styles.resting);\n  };\n\n  var dragging = function dragging() {\n    return setStyle(dynamic, styles.dragging);\n  };\n\n  var dropping = function dropping(reason) {\n    if (reason === 'DROP') {\n      setStyle(dynamic, styles.dropAnimating);\n      return;\n    }\n\n    setStyle(dynamic, styles.userCancel);\n  };\n\n  var resting = function resting() {\n    return setStyle(dynamic, styles.resting);\n  };\n\n  var unmount = function unmount() {\n    !(always && dynamic) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount style marshal as it is already unmounted') : invariant(false) : void 0;\n    getHead().removeChild(always);\n    getHead().removeChild(dynamic);\n    always = null;\n    dynamic = null;\n  };\n\n  var marshal = {\n    dragging: dragging,\n    dropping: dropping,\n    resting: resting,\n    styleContext: context,\n    mount: mount,\n    unmount: unmount\n  };\n  return marshal;\n};\n\nvar canStartDrag = function canStartDrag(state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.pending.result.draggableId === id) {\n    return false;\n  }\n\n  return state.pending.result.reason === 'DROP';\n};\n\nvar scrollWindow = function scrollWindow(change) {\n  window.scrollBy(change.x, change.y);\n};\n\nvar getBodyElement = function getBodyElement() {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n};\n\nvar count$1 = 0;\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar createAnnouncer = function createAnnouncer() {\n  var id = \"react-beautiful-dnd-announcement-\" + count$1++;\n  var el = null;\n\n  var announce = function announce(message) {\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  };\n\n  var mount = function mount() {\n    !!el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcer already mounted') : invariant(false) : void 0;\n    el = document.createElement('div');\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n  };\n\n  var unmount = function unmount() {\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Will not unmount announcer as it is already unmounted') : invariant(false) : void 0;\n    getBodyElement().removeChild(el);\n    el = null;\n  };\n\n  var announcer = {\n    announce: announce,\n    id: id,\n    mount: mount,\n    unmount: unmount\n  };\n  return announcer;\n};\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = function getBestScrollableDroppable(_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n};\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = function getDistanceThresholds(container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\n\nvar getPercentage = function getPercentage(_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};\n\nvar minScroll = 1;\n\nvar getValueFromDistance = function getValueFromDistance(distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n};\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\n\nvar dampenValueByTime = function dampenValueByTime(proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};\n\nvar getValue = function getValue(_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\n\nvar getScrollOnAxis = function getScrollOnAxis(_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n};\n\nvar adjustForSizeLimits = function adjustForSizeLimits(_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n};\n\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\n\nvar getScroll = function getScroll(_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n};\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\n\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\n\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\n\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\n\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = function getWindowScrollChange(_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n};\n\nvar getDroppableScrollChange = function getDroppableScrollChange(_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n};\n\nvar scroll$1 = function scroll$1(_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n};\n\nvar createFluidScroller = function createFluidScroller(_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n\n  var start$$1 = function start$$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    cancelPending();\n    dragging = null;\n  };\n\n  return {\n    start: start$$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n};\n\nvar createJumpScroller = function createJumpScroller(_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset$$1) {\n    var client = add(state.current.client.selection, offset$$1);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n};\n\nvar createAutoScroller = function createAutoScroller(_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n};\n\nvar prefix$1 = function prefix(key) {\n  return \"private-react-beautiful-dnd-key-do-not-use-\" + key;\n};\n\nvar storeKey = prefix$1('store');\nvar droppableIdKey = prefix$1('droppable-id');\nvar droppableTypeKey = prefix$1('droppable-type');\nvar dimensionMarshalKey = prefix$1('dimension-marshal');\nvar styleContextKey = prefix$1('style-context');\nvar canLiftContextKey = prefix$1('can-lift');\nvar peerDependencies = {\n  react: \"^16.3.1\"\n};\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = function checkReactVersion(peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n};\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd#use-the-html5-doctype\\n\";\n\nvar checkDoctype = function checkDoctype(doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n};\n\nvar _DragDropContext$chil;\n\nvar resetServerContext = function resetServerContext() {\n  resetStyleContext();\n};\n\nvar printFatalDevError = function printFatalDevError(error) {\n  var _console;\n\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n      An error has occurred while a drag is occurring.\\n      Any existing drag will be cancelled.\\n\\n      > \" + error.message + \"\\n      \"));\n\n  console.error('raw', error);\n};\n\nvar DragDropContext = function (_React$Component) {\n  _inheritsLoose(DragDropContext, _React$Component);\n\n  function DragDropContext(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.store = void 0;\n    _this.dimensionMarshal = void 0;\n    _this.styleMarshal = void 0;\n    _this.autoScroller = void 0;\n    _this.announcer = void 0;\n    _this.unsubscribe = void 0;\n\n    _this.canLift = function (id) {\n      return canStartDrag(_this.store.getState(), id);\n    };\n\n    _this.onFatalError = function (error) {\n      printFatalDevError(error);\n\n      var state = _this.store.getState();\n\n      if (state.phase !== 'IDLE') {\n        _this.store.dispatch(clean());\n      }\n    };\n\n    _this.onWindowError = function (error) {\n      return _this.onFatalError(error);\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      !(typeof props.onDragEnd === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DragDropContext requires an onDragEnd function to perform reordering logic') : invariant(false) : void 0;\n    }\n\n    _this.announcer = createAnnouncer();\n    _this.styleMarshal = createStyleMarshal();\n    _this.store = createStore$1({\n      getDimensionMarshal: function getDimensionMarshal() {\n        return _this.dimensionMarshal;\n      },\n      styleMarshal: _this.styleMarshal,\n      getResponders: function getResponders() {\n        return {\n          onBeforeDragStart: _this.props.onBeforeDragStart,\n          onDragStart: _this.props.onDragStart,\n          onDragEnd: _this.props.onDragEnd,\n          onDragUpdate: _this.props.onDragUpdate\n        };\n      },\n      announce: _this.announcer.announce,\n      getScroller: function getScroller() {\n        return _this.autoScroller;\n      }\n    });\n    var callbacks = bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, _this.store.dispatch);\n    _this.dimensionMarshal = createDimensionMarshal(callbacks);\n    _this.autoScroller = createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: _this.dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, _this.store.dispatch)));\n    return _this;\n  }\n\n  var _proto = DragDropContext.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    var _ref;\n\n    return _ref = {}, _ref[storeKey] = this.store, _ref[dimensionMarshalKey] = this.dimensionMarshal, _ref[styleContextKey] = this.styleMarshal.styleContext, _ref[canLiftContextKey] = this.canLift, _ref;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onWindowError);\n    this.styleMarshal.mount();\n    this.announcer.mount();\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkReactVersion(peerDependencies.react, React.version);\n      checkDoctype(document);\n    }\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n\n    if (error.message.indexOf('Invariant failed') !== -1) {\n      this.setState({});\n      return;\n    }\n\n    throw error;\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onWindowError);\n    var state = this.store.getState();\n\n    if (state.phase !== 'IDLE') {\n      this.store.dispatch(clean());\n    }\n\n    this.styleMarshal.unmount();\n    this.announcer.unmount();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DragDropContext;\n}(React.Component);\n\nDragDropContext.childContextTypes = (_DragDropContext$chil = {}, _DragDropContext$chil[storeKey] = PropTypes.shape({\n  dispatch: PropTypes.func.isRequired,\n  subscribe: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n}).isRequired, _DragDropContext$chil[dimensionMarshalKey] = PropTypes.object.isRequired, _DragDropContext$chil[styleContextKey] = PropTypes.string.isRequired, _DragDropContext$chil[canLiftContextKey] = PropTypes.func.isRequired, _DragDropContext$chil);\n\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = function checkForNestedScrollContainers(scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n};\n\nvar getScroll$1 = function getScroll$1(el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n};\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = function getEnv(start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n};\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = function getDimension(_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n};\n\nvar _DroppableDimensionPu;\n\nvar getClosestScrollable$1 = function getClosestScrollable(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\n\nvar getListenerOptions = function getListenerOptions(options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\n\nvar withoutPlaceholder = function withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n};\n\nvar DroppableDimensionPublisher = function (_React$Component) {\n  _inheritsLoose(DroppableDimensionPublisher, _React$Component);\n\n  function DroppableDimensionPublisher(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.dragging = void 0;\n    _this.callbacks = void 0;\n    _this.publishedDescriptor = null;\n\n    _this.getClosestScroll = function () {\n      var dragging = _this.dragging;\n\n      if (!dragging || !dragging.env.closestScrollable) {\n        return origin;\n      }\n\n      return getScroll$1(dragging.env.closestScrollable);\n    };\n\n    _this.memoizedUpdateScroll = memoizeOne(function (x, y) {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update scroll on unpublished droppable') : invariant(false) : void 0;\n      var newScroll = {\n        x: x,\n        y: y\n      };\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.updateDroppableScroll(_this.publishedDescriptor.id, newScroll);\n    });\n\n    _this.updateScroll = function () {\n      var scroll = _this.getClosestScroll();\n\n      _this.memoizedUpdateScroll(scroll.x, scroll.y);\n    };\n\n    _this.scheduleScrollUpdate = rafSchd(_this.updateScroll);\n\n    _this.onClosestScroll = function () {\n      var dragging = _this.dragging;\n      var closest$$1 = getClosestScrollable$1(_this.dragging);\n      !(dragging && closest$$1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n      var options = dragging.scrollOptions;\n\n      if (options.shouldPublishImmediately) {\n        _this.updateScroll();\n\n        return;\n      }\n\n      _this.scheduleScrollUpdate();\n    };\n\n    _this.scroll = function (change) {\n      var closest$$1 = getClosestScrollable$1(_this.dragging);\n      !closest$$1 ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n      closest$$1.scrollTop += change.y;\n      closest$$1.scrollLeft += change.x;\n    };\n\n    _this.dragStopped = function () {\n      var dragging = _this.dragging;\n      !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n      var closest$$1 = getClosestScrollable$1(dragging);\n      _this.dragging = null;\n\n      if (!closest$$1) {\n        return;\n      }\n\n      _this.scheduleScrollUpdate.cancel();\n\n      closest$$1.removeEventListener('scroll', _this.onClosestScroll, getListenerOptions(dragging.scrollOptions));\n    };\n\n    _this.getMemoizedDescriptor = memoizeOne(function (id, type) {\n      return {\n        id: id,\n        type: type\n      };\n    });\n\n    _this.publish = function () {\n      var marshal = _this.context[dimensionMarshalKey];\n\n      var descriptor = _this.getMemoizedDescriptor(_this.props.droppableId, _this.props.type);\n\n      if (!_this.publishedDescriptor) {\n        marshal.registerDroppable(descriptor, _this.callbacks);\n        _this.publishedDescriptor = descriptor;\n        return;\n      }\n\n      if (_this.publishedDescriptor === descriptor) {\n        return;\n      }\n\n      marshal.updateDroppable(_this.publishedDescriptor, descriptor, _this.callbacks);\n      _this.publishedDescriptor = descriptor;\n    };\n\n    _this.unpublish = function () {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unpublish descriptor when none is published') : invariant(false) : void 0;\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.unregisterDroppable(_this.publishedDescriptor);\n      _this.publishedDescriptor = null;\n    };\n\n    _this.recollect = function () {\n      var dragging = _this.dragging;\n      var closest$$1 = getClosestScrollable$1(dragging);\n      !(dragging && closest$$1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n      return withoutPlaceholder(_this.props.getPlaceholderRef(), function () {\n        return getDimension({\n          ref: dragging.ref,\n          descriptor: dragging.descriptor,\n          env: dragging.env,\n          windowScroll: origin,\n          direction: _this.props.direction,\n          isDropDisabled: _this.props.isDropDisabled,\n          isCombineEnabled: _this.props.isCombineEnabled,\n          shouldClipSubject: !_this.props.ignoreContainerClipping\n        });\n      });\n    };\n\n    _this.getDimensionAndWatchScroll = function (windowScroll, options) {\n      !!_this.dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n      var descriptor = _this.publishedDescriptor;\n      !descriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension for unpublished droppable') : invariant(false) : void 0;\n\n      var ref = _this.props.getDroppableRef();\n\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n      var env = getEnv(ref);\n      var dragging = {\n        ref: ref,\n        descriptor: descriptor,\n        env: env,\n        scrollOptions: options\n      };\n      _this.dragging = dragging;\n      var dimension = getDimension({\n        ref: ref,\n        descriptor: descriptor,\n        env: env,\n        windowScroll: windowScroll,\n        direction: _this.props.direction,\n        isDropDisabled: _this.props.isDropDisabled,\n        isCombineEnabled: _this.props.isCombineEnabled,\n        shouldClipSubject: !_this.props.ignoreContainerClipping\n      });\n\n      if (env.closestScrollable) {\n        env.closestScrollable.addEventListener('scroll', _this.onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n        if (process.env.NODE_ENV !== 'production') {\n          checkForNestedScrollContainers(env.closestScrollable);\n        }\n      }\n\n      return dimension;\n    };\n\n    var callbacks = {\n      getDimensionAndWatchScroll: _this.getDimensionAndWatchScroll,\n      recollect: _this.recollect,\n      dragStopped: _this.dragStopped,\n      scroll: _this.scroll\n    };\n    _this.callbacks = callbacks;\n    return _this;\n  }\n\n  var _proto = DroppableDimensionPublisher.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.publish();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    this.publish();\n\n    if (!this.dragging) {\n      return;\n    }\n\n    var isDisabledChanged = this.props.isDropDisabled !== prevProps.isDropDisabled;\n    var isCombineChanged = this.props.isCombineEnabled !== prevProps.isCombineEnabled;\n\n    if (!isDisabledChanged && !isCombineChanged) {\n      return;\n    }\n\n    var marshal = this.context[dimensionMarshalKey];\n\n    if (isDisabledChanged) {\n      marshal.updateDroppableIsEnabled(this.props.droppableId, !this.props.isDropDisabled);\n    }\n\n    if (isCombineChanged) {\n      marshal.updateDroppableIsCombineEnabled(this.props.droppableId, this.props.isCombineEnabled);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.dragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('unmounting droppable while a drag is occurring') : void 0;\n      this.dragStopped();\n    }\n\n    this.unpublish();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DroppableDimensionPublisher;\n}(React.Component);\n\nDroppableDimensionPublisher.contextTypes = (_DroppableDimensionPu = {}, _DroppableDimensionPu[dimensionMarshalKey] = PropTypes.object.isRequired, _DroppableDimensionPu);\n\nvar Placeholder = function (_PureComponent) {\n  _inheritsLoose(Placeholder, _PureComponent);\n\n  function Placeholder() {\n    return _PureComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Placeholder.prototype;\n\n  _proto.render = function render() {\n    var placeholder = this.props.placeholder;\n    var client = placeholder.client,\n        display = placeholder.display,\n        tagName = placeholder.tagName;\n    var style = {\n      display: display,\n      boxSizing: 'border-box',\n      width: client.borderBox.width,\n      height: client.borderBox.height,\n      marginTop: client.margin.top,\n      marginRight: client.margin.right,\n      marginBottom: client.margin.bottom,\n      marginLeft: client.margin.left,\n      flexShrink: '0',\n      flexGrow: '0',\n      pointerEvents: 'none'\n    };\n    return React.createElement(tagName, {\n      style: style,\n      ref: this.props.innerRef\n    });\n  };\n\n  return Placeholder;\n}(PureComponent);\n\nvar getWindowFromEl = function getWindowFromEl(el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n};\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nvar throwIfRefIsInvalid = function throwIfRefIsInvalid(ref) {\n  !(ref && isHtmlElement(ref)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n};\n\nvar checkOwnProps = function checkOwnProps(props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n};\n\nvar _Droppable$contextTyp, _Droppable$childConte;\n\nvar Droppable = function (_Component) {\n  _inheritsLoose(Droppable, _Component);\n\n  function Droppable(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    _this.styleContext = void 0;\n    _this.ref = null;\n    _this.placeholderRef = null;\n\n    _this.setPlaceholderRef = function (ref) {\n      _this.placeholderRef = ref;\n    };\n\n    _this.getPlaceholderRef = function () {\n      return _this.placeholderRef;\n    };\n\n    _this.setRef = function (ref) {\n      if (ref === null) {\n        return;\n      }\n\n      if (ref === _this.ref) {\n        return;\n      }\n\n      _this.ref = ref;\n      throwIfRefIsInvalid(ref);\n    };\n\n    _this.getDroppableRef = function () {\n      return _this.ref;\n    };\n\n    _this.styleContext = context[styleContextKey];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n    }\n\n    return _this;\n  }\n\n  var _proto = Droppable.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    var _value;\n\n    var value = (_value = {}, _value[droppableIdKey] = this.props.droppableId, _value[droppableTypeKey] = this.props.type, _value);\n    return value;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    throwIfRefIsInvalid(this.ref);\n    this.warnIfPlaceholderNotMounted();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.warnIfPlaceholderNotMounted();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.ref = null;\n    this.placeholderRef = null;\n  };\n\n  _proto.warnIfPlaceholderNotMounted = function warnIfPlaceholderNotMounted() {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    if (!this.props.placeholder) {\n      return;\n    }\n\n    if (this.placeholderRef) {\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue: DroppableProvided > placeholder could not be found.\\n      Please be sure to add the {provided.placeholder} Node as a child of your Droppable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd#1-provided-droppableprovided\\n    \") : void 0;\n  };\n\n  _proto.getPlaceholder = function getPlaceholder() {\n    if (!this.props.placeholder) {\n      return null;\n    }\n\n    return React.createElement(Placeholder, {\n      placeholder: this.props.placeholder,\n      innerRef: this.setPlaceholderRef\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        direction = _this$props.direction,\n        type = _this$props.type,\n        droppableId = _this$props.droppableId,\n        isDropDisabled = _this$props.isDropDisabled,\n        isCombineEnabled = _this$props.isCombineEnabled,\n        ignoreContainerClipping = _this$props.ignoreContainerClipping,\n        isDraggingOver = _this$props.isDraggingOver,\n        draggingOverWith = _this$props.draggingOverWith;\n    var provided = {\n      innerRef: this.setRef,\n      placeholder: this.getPlaceholder(),\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': this.styleContext\n      }\n    };\n    var snapshot = {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith\n    };\n    return React.createElement(DroppableDimensionPublisher, {\n      droppableId: droppableId,\n      type: type,\n      direction: direction,\n      ignoreContainerClipping: ignoreContainerClipping,\n      isDropDisabled: isDropDisabled,\n      isCombineEnabled: isCombineEnabled,\n      getDroppableRef: this.getDroppableRef,\n      getPlaceholderRef: this.getPlaceholderRef\n    }, children(provided, snapshot));\n  };\n\n  return Droppable;\n}(Component);\n\nDroppable.contextTypes = (_Droppable$contextTyp = {}, _Droppable$contextTyp[styleContextKey] = PropTypes.string.isRequired, _Droppable$contextTyp);\nDroppable.childContextTypes = (_Droppable$childConte = {}, _Droppable$childConte[droppableIdKey] = PropTypes.string.isRequired, _Droppable$childConte[droppableTypeKey] = PropTypes.string.isRequired, _Droppable$childConte);\n\nvar isStrictEqual = function isStrictEqual(a, b) {\n  return a === b;\n};\n\nvar defaultMapProps = {\n  isDraggingOver: false,\n  draggingOverWith: null,\n  placeholder: null\n};\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var getMapProps = memoizeOne(function (isDraggingOver, draggingOverWith, placeholder) {\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      placeholder: placeholder\n    };\n  });\n\n  var getDraggingOverProps = function getDraggingOverProps(id, draggable, impact) {\n    var isOver = whatIsDraggedOver(impact) === id;\n\n    if (!isOver) {\n      return defaultMapProps;\n    }\n\n    var usePlaceholder = shouldUsePlaceholder(draggable.descriptor, impact);\n    var placeholder = usePlaceholder ? draggable.placeholder : null;\n    return getMapProps(true, draggable.descriptor.id, placeholder);\n  };\n\n  var selector = function selector(state, ownProps) {\n    if (ownProps.isDropDisabled) {\n      return defaultMapProps;\n    }\n\n    var id = ownProps.droppableId;\n\n    if (state.isDragging) {\n      var draggable = state.dimensions.draggables[state.critical.draggable.id];\n      return getDraggingOverProps(id, draggable, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var _draggable = state.dimensions.draggables[state.pending.result.draggableId];\n      return getDraggingOverProps(id, _draggable, state.pending.impact);\n    }\n\n    return defaultMapProps;\n  };\n\n  return selector;\n};\n\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, null, null, {\n  storeKey: storeKey,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nvar _DraggableDimensionPu;\n\nvar DraggableDimensionPublisher = function (_Component) {\n  _inheritsLoose(DraggableDimensionPublisher, _Component);\n\n  function DraggableDimensionPublisher() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.publishedDescriptor = null;\n    _this.getMemoizedDescriptor = memoizeOne(function (id, index, droppableId, type) {\n      return {\n        id: id,\n        index: index,\n        droppableId: droppableId,\n        type: type\n      };\n    });\n\n    _this.publish = function () {\n      var marshal = _this.context[dimensionMarshalKey];\n\n      var descriptor = _this.getMemoizedDescriptor(_this.props.draggableId, _this.props.index, _this.props.droppableId, _this.props.type);\n\n      if (!_this.publishedDescriptor) {\n        marshal.registerDraggable(descriptor, _this.getDimension);\n        _this.publishedDescriptor = descriptor;\n        return;\n      }\n\n      if (descriptor === _this.publishedDescriptor) {\n        return;\n      }\n\n      marshal.updateDraggable(_this.publishedDescriptor, descriptor, _this.getDimension);\n      _this.publishedDescriptor = descriptor;\n    };\n\n    _this.unpublish = function () {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unpublish descriptor when none is published') : invariant(false) : void 0;\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.unregisterDraggable(_this.publishedDescriptor);\n      _this.publishedDescriptor = null;\n    };\n\n    _this.getDimension = function (windowScroll) {\n      if (windowScroll === void 0) {\n        windowScroll = origin;\n      }\n\n      var targetRef = _this.props.getDraggableRef();\n\n      var descriptor = _this.publishedDescriptor;\n      !targetRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DraggableDimensionPublisher cannot calculate a dimension when not attached to the DOM') : invariant(false) : void 0;\n      !descriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension for unpublished draggable') : invariant(false) : void 0;\n      var computedStyles = window.getComputedStyle(targetRef);\n      var borderBox = targetRef.getBoundingClientRect();\n      var client = calculateBox(borderBox, computedStyles);\n      var page = withScroll(client, windowScroll);\n      var placeholder = {\n        client: client,\n        tagName: targetRef.tagName.toLowerCase(),\n        display: computedStyles.display\n      };\n      var displaceBy = {\n        x: client.marginBox.width,\n        y: client.marginBox.height\n      };\n      var dimension = {\n        descriptor: descriptor,\n        placeholder: placeholder,\n        displaceBy: displaceBy,\n        client: client,\n        page: page\n      };\n      return dimension;\n    };\n\n    return _this;\n  }\n\n  var _proto = DraggableDimensionPublisher.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.publish();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.publish();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unpublish();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DraggableDimensionPublisher;\n}(Component);\n\nDraggableDimensionPublisher.contextTypes = (_DraggableDimensionPu = {}, _DraggableDimensionPu[dimensionMarshalKey] = PropTypes.object.isRequired, _DraggableDimensionPu);\n\nfunction isSvgElement(el) {\n  return el instanceof getWindowFromEl(el).SVGElement;\n}\n\nvar selector = \"[\" + dragHandle + \"]\";\n\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\n\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd#draggable\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\n\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\n\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n\n  var result = function result() {\n    return bind();\n  };\n\n  result.cancel = function () {\n    return unbind();\n  };\n\n  return result;\n}();\n\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\n\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n\n  if (id !== retainingFocusFor) {\n    return;\n  }\n\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n\n  dragHandleRef.focus();\n};\n\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n};\n\nvar shouldAllowDraggingFromTarget = function shouldAllowDraggingFromTarget(event, props) {\n  if (props.canDragInteractiveElements) {\n    return true;\n  }\n\n  var target = event.target,\n      currentTarget = event.currentTarget;\n\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n\n  return !isAnInteractiveElement(currentTarget, target);\n};\n\nvar createScheduler = function createScheduler(callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n};\n\nvar sloppyClickThreshold = 5;\n\nvar isSloppyClickThresholdExceeded = function isSloppyClickThresholdExceeded(original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n};\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\n\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\n\nvar preventStandardKeyEvents = function preventStandardKeyEvents(event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n};\n\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, {}, fromBinding);\n};\n\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar sharedOptions = {\n  capture: true\n};\n\nvar createPostDragEventPreventer = function createPostDragEventPreventer(getWindow) {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n\n    bind();\n  };\n\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n};\n\nvar createEventMarshal = function createEventMarshal() {\n  var isMouseDownHandled = false;\n\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n};\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\n\nvar noop = function noop() {};\n\nvar mouseDownMarshal = createEventMarshal();\n\nvar createMouseSensor = function createMouseSensor(_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      canStartCapturing = _ref.canStartCapturing;\n  var state = {\n    isDragging: false,\n    pending: null\n  };\n\n  var setState = function setState(newState) {\n    state = newState;\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var isCapturing = function isCapturing() {\n    return Boolean(state.pending || state.isDragging);\n  };\n\n  var schedule = createScheduler(callbacks);\n  var postDragEventPreventer = createPostDragEventPreventer(getWindow);\n\n  var startDragging = function startDragging(fn) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    setState({\n      pending: null,\n      isDragging: true\n    });\n    fn();\n  };\n\n  var stopDragging = function stopDragging(fn, shouldBlockClick) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    if (shouldBlockClick === void 0) {\n      shouldBlockClick = true;\n    }\n\n    schedule.cancel();\n    unbindWindowEvents();\n    mouseDownMarshal.reset();\n\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n\n    setState({\n      isDragging: false,\n      pending: null\n    });\n    fn();\n  };\n\n  var startPendingDrag = function startPendingDrag(point) {\n    setState({\n      pending: point,\n      isDragging: false\n    });\n    bindWindowEvents();\n  };\n\n  var stopPendingDrag = function stopPendingDrag() {\n    stopDragging(noop, false);\n  };\n\n  var kill = function kill(fn) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    if (state.pending) {\n      stopPendingDrag();\n      return;\n    }\n\n    if (state.isDragging) {\n      stopDragging(fn);\n    }\n  };\n\n  var unmount = function unmount() {\n    kill();\n    postDragEventPreventer.abort();\n  };\n\n  var cancel = function cancel() {\n    kill(callbacks.onCancel);\n  };\n\n  var windowBindings = [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n\n      if (state.isDragging) {\n        event.preventDefault();\n        schedule.move(point);\n        return;\n      }\n\n      if (!state.pending) {\n        stopPendingDrag();\n        process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n      }\n\n      if (!isSloppyClickThresholdExceeded(state.pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      startDragging(function () {\n        return callbacks.onLift({\n          clientSelection: point,\n          movementMode: 'FLUID'\n        });\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (state.isDragging) {\n        event.preventDefault();\n      }\n\n      stopDragging(callbacks.onCancel);\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      schedule.windowScrollMove();\n    }\n  }, {\n    eventName: 'webkitmouseforcechanged',\n    fn: function fn(event) {\n      if (event.webkitForce == null || MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN == null) {\n        process.env.NODE_ENV !== \"production\" ? warning('handling a mouse force changed event when it is not supported') : void 0;\n        return;\n      }\n\n      var forcePressThreshold = MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;\n      var isForcePressing = event.webkitForce >= forcePressThreshold;\n\n      if (isForcePressing) {\n        cancel();\n      }\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    var win = getWindow();\n    bindEvents(win, windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    var win = getWindow();\n    unbindEvents(win, windowBindings, {\n      capture: true\n    });\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n\n    !!isCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    if (event.button !== primaryButton) {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  };\n\n  var sensor = {\n    onMouseDown: onMouseDown,\n    kill: kill,\n    isCapturing: isCapturing,\n    isDragging: isDragging,\n    unmount: unmount\n  };\n  return sensor;\n};\n\nvar getBorderBoxCenterPosition = function getBorderBoxCenterPosition(el) {\n  return getRect(el.getBoundingClientRect()).center;\n};\n\nvar _scrollJumpKeys;\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nvar noop$1 = function noop() {};\n\nvar createKeyboardSensor = function createKeyboardSensor(_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      getDraggableRef = _ref.getDraggableRef,\n      canStartCapturing = _ref.canStartCapturing;\n  var state = {\n    isDragging: false\n  };\n\n  var setState = function setState(newState) {\n    state = newState;\n  };\n\n  var startDragging = function startDragging(fn) {\n    if (fn === void 0) {\n      fn = noop$1;\n    }\n\n    setState({\n      isDragging: true\n    });\n    bindWindowEvents();\n    fn();\n  };\n\n  var stopDragging = function stopDragging(postDragFn) {\n    if (postDragFn === void 0) {\n      postDragFn = noop$1;\n    }\n\n    schedule.cancel();\n    unbindWindowEvents();\n    setState({\n      isDragging: false\n    });\n    postDragFn();\n  };\n\n  var kill = function kill() {\n    if (state.isDragging) {\n      stopDragging();\n    }\n  };\n\n  var cancel = function cancel() {\n    stopDragging(callbacks.onCancel);\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var schedule = createScheduler(callbacks);\n\n  var onKeyDown = function onKeyDown(event) {\n    if (!isDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (!canStartCapturing(event)) {\n        return;\n      }\n\n      if (event.keyCode !== space) {\n        return;\n      }\n\n      var ref = getDraggableRef();\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n      var center = getBorderBoxCenterPosition(ref);\n      event.preventDefault();\n      startDragging(function () {\n        return callbacks.onLift({\n          clientSelection: center,\n          movementMode: 'SNAP'\n        });\n      });\n      return;\n    }\n\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n      return;\n    }\n\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n\n    preventStandardKeyEvents(event);\n  };\n\n  var windowBindings = [{\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: 'scroll',\n    options: {\n      capture: false\n    },\n    fn: callbacks.onWindowScroll\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    bindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    unbindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var sensor = {\n    onKeyDown: onKeyDown,\n    kill: kill,\n    isDragging: isDragging,\n    isCapturing: isDragging,\n    unmount: kill\n  };\n  return sensor;\n};\n\nvar timeForLongPress = 150;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\n\nvar noop$2 = function noop() {};\n\nvar webkitHack = function () {\n  var stub = {\n    preventTouchMove: noop$2,\n    releaseTouchMove: noop$2\n  };\n\n  if (typeof window === 'undefined') {\n    return stub;\n  }\n\n  if (!('ontouchstart' in window)) {\n    return stub;\n  }\n\n  var isBlocking = false;\n  window.addEventListener('touchmove', function (event) {\n    if (!isBlocking) {\n      return;\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n  }, {\n    passive: false,\n    capture: false\n  });\n\n  var preventTouchMove = function preventTouchMove() {\n    isBlocking = true;\n  };\n\n  var releaseTouchMove = function releaseTouchMove() {\n    isBlocking = false;\n  };\n\n  return {\n    preventTouchMove: preventTouchMove,\n    releaseTouchMove: releaseTouchMove\n  };\n}();\n\nvar initial = {\n  isDragging: false,\n  pending: null,\n  hasMoved: false,\n  longPressTimerId: null\n};\n\nvar createTouchSensor = function createTouchSensor(_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      canStartCapturing = _ref.canStartCapturing;\n  var state = initial;\n\n  var setState = function setState(partial) {\n    state = _extends({}, state, {}, partial);\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var isCapturing = function isCapturing() {\n    return Boolean(state.pending || state.isDragging || state.longPressTimerId);\n  };\n\n  var schedule = createScheduler(callbacks);\n  var postDragEventPreventer = createPostDragEventPreventer(getWindow);\n\n  var startDragging = function startDragging() {\n    var pending = state.pending;\n\n    if (!pending) {\n      stopPendingDrag();\n      process.env.NODE_ENV !== \"production\" ? invariant(false, 'cannot start a touch drag without a pending position') : invariant(false);\n    }\n\n    setState({\n      isDragging: true,\n      hasMoved: false,\n      pending: null,\n      longPressTimerId: null\n    });\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  };\n\n  var stopDragging = function stopDragging(fn) {\n    if (fn === void 0) {\n      fn = noop$2;\n    }\n\n    schedule.cancel();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    unbindWindowEvents();\n    postDragEventPreventer.preventNext();\n    setState(initial);\n    fn();\n  };\n\n  var startPendingDrag = function startPendingDrag(event) {\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n        clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setState({\n      longPressTimerId: longPressTimerId,\n      pending: point,\n      isDragging: false,\n      hasMoved: false\n    });\n    bindWindowEvents();\n  };\n\n  var stopPendingDrag = function stopPendingDrag() {\n    if (state.longPressTimerId) {\n      clearTimeout(state.longPressTimerId);\n    }\n\n    schedule.cancel();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    unbindWindowEvents();\n    setState(initial);\n  };\n\n  var kill = function kill(fn) {\n    if (fn === void 0) {\n      fn = noop$2;\n    }\n\n    if (state.pending) {\n      stopPendingDrag();\n      return;\n    }\n\n    if (state.isDragging) {\n      stopDragging(fn);\n    }\n  };\n\n  var unmount = function unmount() {\n    kill();\n    postDragEventPreventer.abort();\n  };\n\n  var cancel = function cancel() {\n    kill(callbacks.onCancel);\n  };\n\n  var windowBindings = [{\n    eventName: 'touchmove',\n    options: {\n      passive: false\n    },\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      if (!state.hasMoved) {\n        setState({\n          hasMoved: true\n        });\n      }\n\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      schedule.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onCancel);\n    }\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      schedule.windowScrollMove();\n    }\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      if (state.hasMoved) {\n        event.preventDefault();\n        return;\n      }\n\n      var touch = event.touches[0];\n\n      if (touch.force >= forcePressThreshold) {\n        cancel();\n      }\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    bindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    unbindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n\n    !!isCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    touchStartMarshal.handle();\n    webkitHack.preventTouchMove();\n    startPendingDrag(event);\n  };\n\n  var sensor = {\n    onTouchStart: onTouchStart,\n    kill: kill,\n    isCapturing: isCapturing,\n    isDragging: isDragging,\n    unmount: unmount\n  };\n  return sensor;\n};\n\nvar _DragHandle$contextTy;\n\nvar preventHtml5Dnd = function preventHtml5Dnd(event) {\n  event.preventDefault();\n};\n\nvar DragHandle = function (_Component) {\n  _inheritsLoose(DragHandle, _Component);\n\n  function DragHandle(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    _this.mouseSensor = void 0;\n    _this.keyboardSensor = void 0;\n    _this.touchSensor = void 0;\n    _this.sensors = void 0;\n    _this.styleContext = void 0;\n    _this.canLift = void 0;\n    _this.isFocused = false;\n    _this.lastDraggableRef = void 0;\n\n    _this.onFocus = function () {\n      _this.isFocused = true;\n    };\n\n    _this.onBlur = function () {\n      _this.isFocused = false;\n    };\n\n    _this.onKeyDown = function (event) {\n      if (_this.mouseSensor.isCapturing() || _this.touchSensor.isCapturing()) {\n        return;\n      }\n\n      _this.keyboardSensor.onKeyDown(event);\n    };\n\n    _this.onMouseDown = function (event) {\n      if (_this.keyboardSensor.isCapturing() || _this.mouseSensor.isCapturing()) {\n        return;\n      }\n\n      _this.mouseSensor.onMouseDown(event);\n    };\n\n    _this.onTouchStart = function (event) {\n      if (_this.mouseSensor.isCapturing() || _this.keyboardSensor.isCapturing()) {\n        return;\n      }\n\n      _this.touchSensor.onTouchStart(event);\n    };\n\n    _this.canStartCapturing = function (event) {\n      if (_this.isAnySensorCapturing()) {\n        return false;\n      }\n\n      if (!_this.canLift(_this.props.draggableId)) {\n        return false;\n      }\n\n      return shouldAllowDraggingFromTarget(event, _this.props);\n    };\n\n    _this.isAnySensorCapturing = function () {\n      return _this.sensors.some(function (sensor) {\n        return sensor.isCapturing();\n      });\n    };\n\n    _this.getProvided = memoizeOne(function (isEnabled) {\n      if (!isEnabled) {\n        return null;\n      }\n\n      var provided = {\n        onMouseDown: _this.onMouseDown,\n        onKeyDown: _this.onKeyDown,\n        onTouchStart: _this.onTouchStart,\n        onFocus: _this.onFocus,\n        onBlur: _this.onBlur,\n        tabIndex: 0,\n        'data-react-beautiful-dnd-drag-handle': _this.styleContext,\n        'aria-roledescription': 'Draggable item. Press space bar to lift',\n        draggable: false,\n        onDragStart: preventHtml5Dnd\n      };\n      return provided;\n    });\n\n    var getWindow = function getWindow() {\n      return getWindowFromEl(_this.props.getDraggableRef());\n    };\n\n    var args = {\n      callbacks: _this.props.callbacks,\n      getDraggableRef: _this.props.getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: _this.canStartCapturing\n    };\n    _this.mouseSensor = createMouseSensor(args);\n    _this.keyboardSensor = createKeyboardSensor(args);\n    _this.touchSensor = createTouchSensor(args);\n    _this.sensors = [_this.mouseSensor, _this.keyboardSensor, _this.touchSensor];\n    _this.styleContext = context[styleContextKey];\n    _this.canLift = context[canLiftContextKey];\n    return _this;\n  }\n\n  var _proto = DragHandle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var draggableRef = this.props.getDraggableRef();\n    this.lastDraggableRef = draggableRef;\n    !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get draggable ref from drag handle') : invariant(false) : void 0;\n\n    if (!this.props.isEnabled) {\n      return;\n    }\n\n    var dragHandleRef = getDragHandleRef(draggableRef);\n    retainer.tryRestoreFocus(this.props.draggableId, dragHandleRef);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    var ref = this.props.getDraggableRef();\n\n    if (ref !== this.lastDraggableRef) {\n      this.lastDraggableRef = ref;\n\n      if (ref && this.isFocused && this.props.isEnabled) {\n        getDragHandleRef(ref).focus();\n      }\n    }\n\n    var isCapturing = this.isAnySensorCapturing();\n\n    if (!isCapturing) {\n      return;\n    }\n\n    var isBeingDisabled = prevProps.isEnabled && !this.props.isEnabled;\n\n    if (isBeingDisabled) {\n      this.sensors.forEach(function (sensor) {\n        if (!sensor.isCapturing()) {\n          return;\n        }\n\n        var wasDragging = sensor.isDragging();\n        sensor.kill();\n\n        if (wasDragging) {\n          process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n\n          _this2.props.callbacks.onCancel();\n        }\n      });\n    }\n\n    var isDragAborted = prevProps.isDragging && !this.props.isDragging;\n\n    if (isDragAborted) {\n      this.sensors.forEach(function (sensor) {\n        if (sensor.isCapturing()) {\n          sensor.kill();\n        }\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this3 = this;\n\n    this.sensors.forEach(function (sensor) {\n      var wasDragging = sensor.isDragging();\n      sensor.unmount();\n\n      if (wasDragging) {\n        _this3.props.callbacks.onCancel();\n      }\n    });\n\n    var shouldRetainFocus = function () {\n      if (!_this3.props.isEnabled) {\n        return false;\n      }\n\n      if (!_this3.isFocused) {\n        return false;\n      }\n\n      return _this3.props.isDragging || _this3.props.isDropAnimating;\n    }();\n\n    if (shouldRetainFocus) {\n      retainer.retain(this.props.draggableId);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        isEnabled = _this$props.isEnabled;\n    return children(this.getProvided(isEnabled));\n  };\n\n  return DragHandle;\n}(Component);\n\nDragHandle.contextTypes = (_DragHandle$contextTy = {}, _DragHandle$contextTy[styleContextKey] = PropTypes.string.isRequired, _DragHandle$contextTy[canLiftContextKey] = PropTypes.func.isRequired, _DragHandle$contextTy);\n\nvar checkOwnProps$1 = function checkOwnProps$1(props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n};\n\nvar _Draggable$contextTyp;\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nvar Draggable = function (_Component) {\n  _inheritsLoose(Draggable, _Component);\n\n  function Draggable(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    _this.callbacks = void 0;\n    _this.styleContext = void 0;\n    _this.ref = null;\n\n    _this.onMoveEnd = function () {\n      if (_this.props.dragging && _this.props.dragging.dropping) {\n        _this.props.dropAnimationFinished();\n      }\n    };\n\n    _this.onLift = function (options) {\n      start('LIFT');\n      var ref = _this.ref;\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      !!_this.props.isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n      var clientSelection = options.clientSelection,\n          movementMode = options.movementMode;\n      var _this$props = _this.props,\n          lift = _this$props.lift,\n          draggableId = _this$props.draggableId;\n      lift({\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: movementMode\n      });\n      finish('LIFT');\n    };\n\n    _this.setRef = function (ref) {\n      if (ref === null) {\n        return;\n      }\n\n      if (ref === _this.ref) {\n        return;\n      }\n\n      _this.ref = ref;\n      throwIfRefIsInvalid(ref);\n    };\n\n    _this.getDraggableRef = function () {\n      return _this.ref;\n    };\n\n    _this.getDraggingStyle = memoizeOne(function (dragging) {\n      var dimension = dragging.dimension;\n      var box = dimension.client;\n      var offset$$1 = dragging.offset,\n          combineWith = dragging.combineWith,\n          dropping = dragging.dropping;\n      var isCombining = Boolean(combineWith);\n      var shouldAnimate = getShouldDraggingAnimate(dragging);\n      var isDropAnimating = Boolean(dropping);\n      var transform = isDropAnimating ? transforms.drop(offset$$1, isCombining) : transforms.moveTo(offset$$1);\n      var style = {\n        position: 'fixed',\n        top: box.marginBox.top,\n        left: box.marginBox.left,\n        boxSizing: 'border-box',\n        width: box.borderBox.width,\n        height: box.borderBox.height,\n        transition: getDraggingTransition(shouldAnimate, dropping),\n        transform: transform,\n        opacity: getDraggingOpacity(isCombining, isDropAnimating),\n        zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n        pointerEvents: 'none'\n      };\n      return style;\n    });\n    _this.getSecondaryStyle = memoizeOne(function (secondary) {\n      return {\n        transform: transforms.moveTo(secondary.offset),\n        transition: secondary.shouldAnimateDisplacement ? null : 'none'\n      };\n    });\n    _this.getDraggingProvided = memoizeOne(function (dragging, dragHandleProps) {\n      var style = _this.getDraggingStyle(dragging);\n\n      var isDropping = Boolean(dragging.dropping);\n      var provided = {\n        innerRef: _this.setRef,\n        draggableProps: {\n          'data-react-beautiful-dnd-draggable': _this.styleContext,\n          style: style,\n          onTransitionEnd: isDropping ? _this.onMoveEnd : null\n        },\n        dragHandleProps: dragHandleProps\n      };\n      return provided;\n    });\n    _this.getSecondaryProvided = memoizeOne(function (secondary, dragHandleProps) {\n      var style = _this.getSecondaryStyle(secondary);\n\n      var provided = {\n        innerRef: _this.setRef,\n        draggableProps: {\n          'data-react-beautiful-dnd-draggable': _this.styleContext,\n          style: style,\n          onTransitionEnd: null\n        },\n        dragHandleProps: dragHandleProps\n      };\n      return provided;\n    });\n    _this.getDraggingSnapshot = memoizeOne(function (dragging) {\n      return {\n        isDragging: true,\n        isDropAnimating: Boolean(dragging.dropping),\n        dropAnimation: dragging.dropping,\n        mode: dragging.mode,\n        draggingOver: dragging.draggingOver,\n        combineWith: dragging.combineWith,\n        combineTargetFor: null\n      };\n    });\n    _this.getSecondarySnapshot = memoizeOne(function (secondary) {\n      return {\n        isDragging: false,\n        isDropAnimating: false,\n        dropAnimation: null,\n        mode: null,\n        draggingOver: null,\n        combineTargetFor: secondary.combineTargetFor,\n        combineWith: null\n      };\n    });\n\n    _this.renderChildren = function (dragHandleProps) {\n      var dragging = _this.props.dragging;\n      var secondary = _this.props.secondary;\n      var children = _this.props.children;\n\n      if (dragging) {\n        var _child = children(_this.getDraggingProvided(dragging, dragHandleProps), _this.getDraggingSnapshot(dragging));\n\n        var placeholder = React.createElement(Placeholder, {\n          placeholder: dragging.dimension.placeholder\n        });\n        return React.createElement(Fragment, null, _child, placeholder);\n      }\n\n      !secondary ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'If no DraggingMapProps are provided, then SecondaryMapProps are required') : invariant(false) : void 0;\n      var child = children(_this.getSecondaryProvided(secondary, dragHandleProps), _this.getSecondarySnapshot(secondary));\n      return React.createElement(Fragment, null, child);\n    };\n\n    var callbacks = {\n      onLift: _this.onLift,\n      onMove: function onMove(clientSelection) {\n        return props.move({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return props.drop({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return props.drop({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: props.moveUp,\n      onMoveDown: props.moveDown,\n      onMoveRight: props.moveRight,\n      onMoveLeft: props.moveLeft,\n      onWindowScroll: function onWindowScroll() {\n        return props.moveByWindowScroll({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n    _this.callbacks = callbacks;\n    _this.styleContext = context[styleContextKey];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n    }\n\n    return _this;\n  }\n\n  var _proto = Draggable.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.ref = null;\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        draggableId = _this$props2.draggableId,\n        index = _this$props2.index,\n        dragging = _this$props2.dragging,\n        isDragDisabled = _this$props2.isDragDisabled,\n        disableInteractiveElementBlocking = _this$props2.disableInteractiveElementBlocking;\n    var droppableId = this.context[droppableIdKey];\n    var type = this.context[droppableTypeKey];\n    var isDragging = Boolean(dragging);\n    var isDropAnimating = Boolean(dragging && dragging.dropping);\n    return React.createElement(DraggableDimensionPublisher, {\n      key: draggableId,\n      draggableId: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index,\n      getDraggableRef: this.getDraggableRef\n    }, React.createElement(DragHandle, {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: this.callbacks,\n      getDraggableRef: this.getDraggableRef,\n      canDragInteractiveElements: disableInteractiveElementBlocking\n    }, this.renderChildren));\n  };\n\n  return Draggable;\n}(Component);\n\nDraggable.contextTypes = (_Draggable$contextTyp = {}, _Draggable$contextTyp[droppableIdKey] = PropTypes.string.isRequired, _Draggable$contextTyp[droppableTypeKey] = PropTypes.string.isRequired, _Draggable$contextTyp[styleContextKey] = PropTypes.string.isRequired, _Draggable$contextTyp);\n\nvar getCombineWith = function getCombineWith(impact) {\n  if (!impact.merge) {\n    return null;\n  }\n\n  return impact.merge.combine.draggableId;\n};\n\nvar defaultMapProps$1 = {\n  secondary: {\n    offset: origin,\n    combineTargetFor: null,\n    shouldAnimateDisplacement: true\n  },\n  dragging: null\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset$$1, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      secondary: {\n        offset: offset$$1,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement\n      },\n      dragging: null\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset$$1, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      dragging: {\n        mode: mode,\n        dropping: null,\n        offset: offset$$1,\n        dimension: dimension,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        forceShouldAnimate: forceShouldAnimate\n      },\n      secondary: null\n    };\n  });\n\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset$$1 = memoizedOffset(displacedBy.x, displacedBy.y);\n\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset$$1 : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n\n    if (!displacement) {\n      return null;\n    }\n\n    if (!displacement.isVisible) {\n      return null;\n    }\n\n    return getSecondaryProps(offset$$1, null, displacement.shouldAnimate);\n  };\n\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset$$1 = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWith(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset$$1.x, offset$$1.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var pending = state.pending;\n\n      if (pending.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var _draggingOver = whatIsDraggedOver(pending.impact);\n\n      var _combineWith = getCombineWith(pending.impact);\n\n      var duration = pending.dropDuration;\n      var _mode = pending.result.mode;\n      return {\n        dragging: {\n          offset: pending.newHomeClientOffset,\n          dimension: state.dimensions.draggables[ownProps.draggableId],\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          dropping: {\n            duration: duration,\n            curve: curves.drop,\n            moveTo: pending.newHomeClientOffset,\n            opacity: _combineWith ? combine.opacity.drop : null,\n            scale: _combineWith ? combine.scale.drop : null\n          }\n        },\n        secondary: null\n      };\n    }\n\n    return null;\n  };\n\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      if (state.pending.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.pending.result.draggableId, state.pending.impact);\n    }\n\n    return null;\n  };\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps$1;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps, null, {\n  storeKey: storeKey,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\nexport { DragDropContext, ConnectedDroppable as Droppable, ConnectedDraggable as Draggable, resetServerContext };","map":{"version":3,"names":["_extends","_inheritsLoose","React","PureComponent","Component","Fragment","compose","createStore","applyMiddleware","bindActionCreators","invariant","PropTypes","getRect","createBox","withScroll","offset","getBox","expand","calculateBox","memoizeOne","_Object$values","_Object$keys","_Object$assign","_Date$now","rafSchd","connect","_Number$isInteger","origin","x","y","add","point1","point2","subtract","isEqual","negate","point","patch","line","value","otherValue","_ref","distance","Math","sqrt","pow","closest","target","points","min","apply","map","fn","executeClip","frame","subject","result","top","max","right","bottom","left","width","height","isEqual$1","first","second","offsetByPosition","spacing","getCorners","scroll","diff","displacement","increase","axis","withPlaceholder","increasedBy","_extends2","end","clip","shouldClipSubject","pageMarginBox","getSubject","page","scrolled","marginBox","increased","clipped","active","scrollDroppable","droppable","newScroll","process","env","NODE_ENV","scrollable","scrollDiff","initial","scrollDisplacement","current","records","isEnabled","isTimingsEnabled","start","key","now","performance","finish","previous","console","warn","rounded","toFixed","style","textColor","symbol","log","values","findIndex","list","predicate","i","length","find","index","undefined","toDroppableMap","droppables","reduce","descriptor","id","toDraggableMap","draggables","toDroppableList","toDraggableList","isWithin","lowerBound","upperBound","isPositionInFrame","isWithinVertical","isWithinHorizontal","getDroppableOver","maybe","getDraggablesInsideDroppable","droppableId","filter","draggable","sort","a","b","isPartiallyVisibleThroughFrame","isContained","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isPartiallyContained","isBiggerVertically","isBiggerHorizontally","isTargetBiggerThanFrame","isTargetBiggerOnOneAxis","isTotallyVisibleThroughFrame","vertical","direction","crossAxisLine","size","crossAxisStart","crossAxisEnd","crossAxisSize","horizontal","isTotallyVisibleThroughFrameOnAxis","getDroppableDisplaced","destination","isVisibleInDroppable","isVisibleThroughFrameFn","isVisibleInViewport","viewport","isVisible","toBeDisplaced","withDroppableDisplacement","displacedTarget","isPartiallyVisible","args","isTotallyVisible","isTotallyVisibleOnAxis","getShouldAnimate","shouldAnimate","getDisplacement","previousImpact","movement","draggableId","getDisplacementMap","displaced","isUserMovingForward","getDisplacedBy","displaceBy","willDisplaceForward","modifier","getNewIndex","startIndex","amountOfDisplaced","isInFrontOfStart","inHomeList","currentCenter","pageBorderBoxCenterWithDroppableScrollChange","home","insideHome","currentUserDirection","userDirection","originalCenter","borderBox","center","targetCenter","isMovingForward","isMovingTowardStart","displacedBy","child","displacedEndEdge","displacedStartEdge","dimension","ordered","reverse","newMovement","impact","merge","inForeignList","insideDestination","newIndex","noDisplacedBy","noMovement","noImpact","withDroppableScroll","isHomeOf","getWhenEntered","oldMerge","combine","whenEntered","isCombiningWith","twoThirdsOfSize","getCombineImpact","_ref2","isCombineEnabled","canBeDisplacedBy","isDisplaced","Boolean","withMerge","getDragImpact","pageBorderBoxCenter","destinationId","isWithinHomeDroppable","getDragPositions","oldInitial","oldCurrent","oldClientBorderBoxCenter","newClientBorderBoxCenter","shift","client","selection","borderBoxCenter","offset$$1","getMaxScroll","scrollHeight","scrollWidth","maxScroll","adjustedMaxScroll","getDroppableDimension","isFixedOnPage","closest$$1","scrollSize","frameClient","paddingBox","getRequiredGrowthForPlaceholder","placeholderSize","availableSpace","contentBox","insideDroppable","spaceUsed","sum","requiredSpace","needsToGrowBy","withMaxScroll","addPlaceholder","requiredGrowth","added","oldFrameMaxScroll","_subject","newFrame","removePlaceholder","_subject2","oldMaxScroll","getFrame","throwIfSpacingChange","old","fresh","getMessage","spacingType","margin","border","padding","adjustBorderBoxSize","adjustModifiedDroppables","modified","existingDroppables","initialWindowScroll","adjusted","provided","raw","existing","oldClient","newClient","oldScrollable","newScrollable","isFrameEqual","withSizeChanged","adjustAdditionsForScrollChanges","additions","modifiedDroppables","windowScrollChange","modifiedMap","droppableScrollChange","totalChange","moved","placeholder","getDraggableMap","addedDraggables","removedDraggables","removals","shifted","forEach","original","toShift","addShift","indexChange","withRemovals","item","isBeingRemoved","slice","sibling","withAdditions","splice","additionMap","wasAdded","draggableMap","withNoAnimatedDisplacement","withoutAnimation","whatIsDraggedOver","shouldUsePlaceholder","isOver","patchDroppableMap","dimensions","updated","clearUnusedPlaceholder","last","lastDroppable","getDimensionMapWithPlaceholder","base","usePlaceholder","patched","timingsKey","publishWhileDragging","_extends3","state","published","dragging","critical","_getDragPositions","isOrphaned","movementMode","draggingState","phase","forceShouldAnimate","dropPending","reason","isWaiting","getKnownActive","rect","getBestCrossAxisDroppable","source","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","array","contains","isWithinDroppable","getClosestDraggable","sorted","distanceToA","distanceToB","getWillDisplaceForward","isInHomeList","proposedIndex","startIndexInHome","getHomeLocation","getHomeImpact","toHomeList","moveIntoIndexOf","homeIndex","targetIndex","isMovingAfterStart","whenCombining","groupingWith","distanceFromStartToBorderBoxCenter","box","distanceFromEndToBorderBoxCenter","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","goIntoStart","_ref3","moveInto","whenReordering","draggablePage","isOverHome","displacedClosest","getResultWithoutDroppableDisplacement","getPageBorderBoxCenter","withoutDisplacement","withDisplacement","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","toForeignList","previousPageBorderBoxCenter","proposed","isVisibleInNewLocation","indexOf","isGoingBeforeTarget","moveToNewDroppable","isMovingToHome","withViewportDisplacement","getClientFromPageBorderBoxCenter","withoutPageScrollChange","moveCrossAxis","clientSelection","scrollJumpRequest","forward","backward","moveToNextCombine","originalInsideDestination","location","currentIndex","currentInsideDestination","shallow","addClosest","concat","removeClosest","fromReorder","initialInside","isInForeignList","modifyDisplacement","fromCombine","combineId","combineIndex","isCombineDisplaced","isDisplacedForward","visualIndex","getIsIncreasingDisplacement","moveToNextIndex","instruction","atProposedIndex","isIncreasingDisplacement","lastDisplaced","scrollViewport","withNewDisplacement","speculativelyIncrease","maxScrollChange","scrolledViewport","scrolledDroppable","entry","moveToNextPlace","previousClientSelection","distance$$1","cautious","getDroppableOver$1","moveInDirection","type","isActuallyOver","isMainAxisMovementAllowed","isMovingOnMainAxis","_state$dimensions","isMovementAllowed","getVertical","getHorizontal","getUserDirection","oldPageBorderBoxCenter","update","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","currentWindowScroll","newImpact","withUpdatedPlaceholders","recomputeDisplacementVisibility","getClientBorderBoxCenter","refreshSnap","needsVisibilityCheck","isSnapping","postDroppableChange","isEnabledChanging","idle","reducer","action","_action$payload","payload","isWindowScrollAllowed","every","isDragging","_result","_clientSelection","_action$payload2","_action$payload3","_id","_target","String","_action$payload4","_id2","_target2","_updated","_viewport","_result2","newState","pending","_result3","lift","initialPublish","publishWhileDragging$1","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveByWindowScroll","updateViewportMaxScroll","moveUp","moveDown","moveRight","moveLeft","clean","animateDrop","completeDrop","drop","dropAnimationFinished","lift$1","getMarshal","getState","dispatch","next","marshal","scrollOptions","shouldPublishImmediately","request","_marshal$startPublish","startPublishing","dropping","resting","minDropTime","maxDropTime","dropTimeRange","maxDropTimeAtDistance","cancelDropModifier","getDropDuration","percentage","duration","withDuration","Number","getNewHomeClientOffset","newClientCenter","drop$1","isWaitingForDrop","mode","newHomeClientOffset","isAnimationRequired","dropDuration","position","onDragStart","withLocation","startPosition","endPosition","withCombine","onDragUpdate","returnedToStart","onDragEnd","preset","isProduction","spacesAndTabs","clean$1","replace","trim","getDevMessage","message","getFormattedMessage","isDisabledFlag","warning","_console","window","getExpiringAnnounce","announce","wasCalled","isExpired","timeoutId","setTimeout","clearTimeout","getAsyncMarshal","entries","execute","timerId","_entries$splice","callback","push","flush","areLocationsEqual","isCombineEqual","isCriticalEqual","isDraggableEqual","isDroppableEqual","withTimings","getDragStart","responder","data","getDefaultMessage","willExpire","getPublisher","getResponders","asyncMarshal","beforeStart","onBeforeDragStart","start$$1","lastCritical","lastLocation","lastCombine","hasCriticalChanged","hasLocationChanged","hasGroupingChanged","abort","responders","publisher","store","dropAnimationFinish","dimensionMarshalStopper","stopPublishing","shouldEnd","shouldCancelPending","autoScroll","getScroller","stop","cancelPending","pendingDrop","postActionState","getDocumentElement","doc","document","documentElement","getMaxWindowScroll","clientWidth","clientHeight","shouldCheckOnAction","wasDestinationChange","getUpdatedViewportMax","updateViewportMaxScrollOnDestinationChange","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore$1","getDimensionMarshal","styleMarshal","clean$2","timingKey","createPublisher","getEntries","callbacks","advancedUsageWarning","hasAnnounced","staging","frameId","collect","requestAnimationFrame","_staging","getDimension","recollect","publish","add$$1","remove","cancelAnimationFrame","getWindowScroll","pageXOffset","pageYOffset","getViewport","getInitialPublish","windowScroll","getDimensionAndWatchScroll","throwIfAddOrRemoveOfWrongType","collection","createDimensionMarshal","registerDraggable","updateDraggable","unregisterDraggable","registerDroppable","droppableCallbacks","updateDroppable","unregisterDroppable","change","dragStopped","curves","outOfTheWay","opacity","combining","scale","outOfTheWayTime","outOfTheWayTiming","transitions","fluid","snap","timing","moveTo","transforms","isCombining","translate","prefix","dragHandle","makeGetSelector","context","attribute","getStyles","rules","property","rule","styles","selector","join","noPointerEvents","getStyles$1","styleContext","getSelector","dragHandle$$1","grabCursor","always","dropAnimating","draggable$$1","transition","userCancel","droppable$$1","body","count","resetStyleContext","getHead","head","querySelector","createStyleEl","el","createElement","createStyleMarshal","dynamic","setStyle","innerHTML","mount","setAttribute","appendChild","unmount","removeChild","canStartDrag","scrollWindow","scrollBy","getBodyElement","count$1","visuallyHidden","overflow","createAnnouncer","textContent","announcer","getScrollableDroppables","getScrollableDroppableOver","getBestScrollableDroppable","_dimension","config","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","durationDampening","stopDampeningAt","accelerateAt","getDistanceThresholds","container","startScrollingFrom","maxScrollValueAt","thresholds","getPercentage","startOfRange","endOfRange","range","currentInRange","minScroll","getValueFromDistance","distanceToEdge","percentageFromMaxScrollValueAt","percentageFromStartScrollingFrom","ceil","stopAt","dampenValueByTime","proposedScroll","dragStartTime","runTime","betweenAccelerateAtAndStopAtPercentage","getValue","shouldUseTimeDampening","getScrollOnAxis","distanceToEdges","isCloserToEnd","adjustForSizeLimits","isTooBigVertically","isTooBigHorizontally","clean$3","getScroll","required","limited","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","getWindowOverlap","canScrollDroppable","getDroppableOverlap","getWindowScrollChange","getDroppableScrollChange","scroll$1","_change","createFluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","cancel","wasScrollNeeded","fakeScrollCallback","createJumpScroller","moveByOffset","scrollDroppableAsMuchAsItCan","whatTheDroppableCanScroll","remainder","scrollWindowAsMuchAsItCan","whatTheWindowCanScroll","jumpScroller","droppableRemainder","windowRemainder","createAutoScroller","fluidScroller","jumpScroll","scroller","prefix$1","storeKey","droppableIdKey","droppableTypeKey","dimensionMarshalKey","styleContextKey","canLiftContextKey","peerDependencies","react","semver","getVersion","exec","major","minor","isSatisfied","expected","actual","checkReactVersion","peerDepValue","actualValue","peerDep","suffix","checkDoctype","doctype","name","toLowerCase","publicId","_DragDropContext$chil","resetServerContext","printFatalDevError","error","DragDropContext","_React$Component","props","_this","call","dimensionMarshal","autoScroller","unsubscribe","canLift","onFatalError","onWindowError","_proto","prototype","getChildContext","componentDidMount","addEventListener","version","componentDidCatch","setState","componentWillUnmount","removeEventListener","render","children","childContextTypes","shape","func","isRequired","subscribe","object","string","isEqual$2","isScroll","isAuto","isVisible$1","isEither","overflowX","overflowY","isBoth","isElementScrollable","getComputedStyle","isBodyScrollable","html","htmlStyle","htmlOverflow","getClosestScrollable","parentElement","checkForNestedScrollContainers","anotherScrollParent","getScroll$1","scrollLeft","scrollTop","getIsFixed","getEnv","closestScrollable","getClient","targetRef","ref","isDropDisabled","_DroppableDimensionPu","getClosestScrollable$1","immediate","passive","delayed","getListenerOptions","options","withoutPlaceholder","display","DroppableDimensionPublisher","publishedDescriptor","getClosestScroll","memoizedUpdateScroll","updateScroll","scheduleScrollUpdate","onClosestScroll","getMemoizedDescriptor","unpublish","getPlaceholderRef","ignoreContainerClipping","getDroppableRef","componentDidUpdate","prevProps","isDisabledChanged","isCombineChanged","contextTypes","Placeholder","_PureComponent","arguments","tagName","boxSizing","marginTop","marginRight","marginBottom","marginLeft","flexShrink","flexGrow","pointerEvents","innerRef","getWindowFromEl","ownerDocument","defaultView","isHtmlElement","HTMLElement","throwIfRefIsInvalid","checkOwnProps","_Droppable$contextTyp","_Droppable$childConte","Droppable","_Component","placeholderRef","setPlaceholderRef","setRef","_value","warnIfPlaceholderNotMounted","getPlaceholder","_this$props","isDraggingOver","draggingOverWith","droppableProps","snapshot","isStrictEqual","defaultMapProps","makeMapStateToProps","getMapProps","getDraggingOverProps","ownProps","_draggable","defaultProps","ConnectedDroppable","pure","areStatePropsEqual","_DraggableDimensionPu","DraggableDimensionPublisher","_len","Array","_key","getDraggableRef","computedStyles","getBoundingClientRect","isSvgElement","SVGElement","throwIfSVG","getDragHandleRef","draggableRef","hasAttribute","retainingFocusFor","listenerOptions","capture","clearRetentionOnFocusChange","isBound","bind","onWindowFocusChange","unbind","retain","tryRestoreFocus","dragHandleRef","focus","retainer","isElement","Element","interactiveTagNames","input","button","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","parent","hasAnInteractiveTag","getAttribute","shouldAllowDraggingFromTarget","event","canDragInteractiveElements","currentTarget","createScheduler","memoizedMove","onMove","onMoveUp","onMoveDown","onMoveRight","onMoveLeft","windowScrollMove","onWindowScroll","sloppyClickThreshold","isSloppyClickThresholdExceeded","abs","tab","enter","escape","space","pageUp","pageDown","arrowLeft","arrowUp","arrowRight","arrowDown","_preventedKeys","preventedKeys","preventStandardKeyEvents","keyCode","preventDefault","getOptions","shared","fromBinding","bindEvents","bindings","sharedOptions","binding","eventName","unbindEvents","createPostDragEventPreventer","getWindow","preventNext","preventer","createEventMarshal","isMouseDownHandled","handle","isHandled","reset","supportedEventName","supported","primaryButton","noop","mouseDownMarshal","createMouseSensor","canStartCapturing","isCapturing","schedule","postDragEventPreventer","startDragging","stopDragging","shouldBlockClick","unbindWindowEvents","startPendingDrag","bindWindowEvents","stopPendingDrag","kill","onCancel","windowBindings","clientX","clientY","onLift","onDrop","webkitForce","MouseEvent","WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN","forcePressThreshold","isForcePressing","win","onMouseDown","ctrlKey","metaKey","shiftKey","altKey","sensor","getBorderBoxCenterPosition","_scrollJumpKeys","scrollJumpKeys","noop$1","createKeyboardSensor","postDragFn","onKeyDown","defaultPrevented","timeForLongPress","touchStartMarshal","noop$2","webkitHack","stub","preventTouchMove","releaseTouchMove","isBlocking","hasMoved","longPressTimerId","createTouchSensor","partial","touch","touches","_event$touches$","force","onTouchStart","_DragHandle$contextTy","preventHtml5Dnd","DragHandle","mouseSensor","keyboardSensor","touchSensor","sensors","isFocused","lastDraggableRef","onFocus","onBlur","isAnySensorCapturing","some","getProvided","tabIndex","_this2","isBeingDisabled","wasDragging","isDragAborted","_this3","shouldRetainFocus","isDropAnimating","checkOwnProps$1","isDragDisabled","_Draggable$contextTyp","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","getShouldDraggingAnimate","Draggable","onMoveEnd","getDraggingStyle","combineWith","transform","zIndex","getSecondaryStyle","secondary","shouldAnimateDisplacement","getDraggingProvided","dragHandleProps","isDropping","draggableProps","onTransitionEnd","getSecondaryProvided","getDraggingSnapshot","dropAnimation","draggingOver","combineTargetFor","getSecondarySnapshot","renderChildren","_child","_this$props2","disableInteractiveElementBlocking","getCombineWith","defaultMapProps$1","makeMapStateToProps$1","memoizedOffset","getSecondaryProps","getDraggingProps","getSecondaryMovement","ownId","draggingId","isCombinedWith","draggingSelector","_draggingOver","_combineWith","_mode","curve","secondarySelector","mapDispatchToProps","defaultProps$1","ConnectedDraggable"],"sources":["/Users/wdelacruz/project_2021/matx-react/node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js"],"sourcesContent":["import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport React, { PureComponent, Component, Fragment } from 'react';\nimport { compose, createStore, applyMiddleware, bindActionCreators } from 'redux';\nimport invariant from 'tiny-invariant';\nimport PropTypes from 'prop-types';\nimport { getRect, createBox, withScroll, offset, getBox, expand, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport { connect } from 'react-redux';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\n\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = (function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n});\n\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = (function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n});\n\nvar scrollDroppable = (function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n});\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nfunction values(map) {\n  return _Object$values(map);\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar isWithin = (function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n});\n\nvar isPositionInFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n});\n\nvar getDroppableOver = (function (_ref) {\n  var target = _ref.target,\n      droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    var active = droppable.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n});\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nvar isPartiallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n});\n\nvar isTotallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n});\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n});\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(isVisible, previous) {\n  if (!isVisible) {\n    return false;\n  }\n\n  if (!previous) {\n    return true;\n  }\n\n  return previous.shouldAnimate;\n};\n\nvar getDisplacement = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var isVisible = isPartiallyVisible({\n    target: draggable.page.marginBox,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n});\n\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\n\nvar isUserMovingForward = (function (axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n});\n\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy, willDisplaceForward) {\n  var modifier = willDisplaceForward ? 1 : -1;\n  var displacement = displaceBy[axis.line] * modifier;\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getNewIndex = function getNewIndex(startIndex, amountOfDisplaced, isInFrontOfStart) {\n  if (!amountOfDisplaced) {\n    return startIndex;\n  }\n\n  if (isInFrontOfStart) {\n    return startIndex + amountOfDisplaced;\n  }\n\n  return startIndex - amountOfDisplaced;\n};\n\nvar inHomeList = (function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      home = _ref.home,\n      insideHome = _ref.insideHome,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      currentUserDirection = _ref.userDirection;\n  var axis = home.axis;\n  var originalCenter = draggable.page.borderBox.center;\n  var targetCenter = currentCenter[axis.line];\n  var isInFrontOfStart = targetCenter > originalCenter[axis.line];\n  var willDisplaceForward = !isInFrontOfStart;\n  var isMovingForward = isUserMovingForward(home.axis, currentUserDirection);\n  var isMovingTowardStart = isInFrontOfStart ? !isMovingForward : isMovingForward;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy, willDisplaceForward);\n  var displacement = displacedBy.value;\n  var displaced = insideHome.filter(function (child) {\n    if (child === draggable) {\n      return false;\n    }\n\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n\n    if (isInFrontOfStart) {\n      if (child.descriptor.index < draggable.descriptor.index) {\n        return false;\n      }\n\n      if (isMovingTowardStart) {\n        var displacedEndEdge = end + displacement;\n        return targetCenter > displacedEndEdge;\n      }\n\n      return targetCenter >= start;\n    }\n\n    if (child.descriptor.index > draggable.descriptor.index) {\n      return false;\n    }\n\n    if (isMovingTowardStart) {\n      var displacedStartEdge = start + displacement;\n      return targetCenter < displacedStartEdge;\n    }\n\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: previousImpact,\n      viewport: viewport.frame\n    });\n  });\n  var ordered = isInFrontOfStart ? displaced.reverse() : displaced;\n  var index = getNewIndex(draggable.descriptor.index, ordered.length, isInFrontOfStart);\n  var newMovement = {\n    displaced: ordered,\n    map: getDisplacementMap(ordered),\n    willDisplaceForward: willDisplaceForward,\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: newMovement,\n    direction: axis.direction,\n    destination: {\n      droppableId: home.descriptor.id,\n      index: index\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar inForeignList = (function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy, true);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestination.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n\n    if (isMovingForward) {\n      return targetCenter <= start + displacement;\n    }\n\n    return targetCenter < end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame\n    });\n  });\n  var newIndex = insideDestination.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    willDisplaceForward: true\n  };\n  var impact = {\n    movement: movement,\n    direction: axis.direction,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy,\n  willDisplaceForward: false\n};\nvar noImpact = {\n  movement: noMovement,\n  direction: null,\n  destination: null,\n  merge: null\n};\n\nvar withDroppableScroll = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.value);\n});\n\nvar isHomeOf = (function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n});\n\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n\n  return oldMerge.whenEntered;\n};\n\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n      currentCenter = _ref.currentCenter,\n      axis = _ref.axis,\n      borderBox = _ref.borderBox,\n      displacedBy = _ref.displacedBy,\n      currentUserDirection = _ref.currentUserDirection,\n      oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displacedBy;\n  var end = borderBox[axis.end] + displacedBy;\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\n\nvar getCombineImpact = (function (_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n      previousImpact = _ref2.previousImpact,\n      draggable = _ref2.draggable,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      userDirection = _ref2.userDirection;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy.value;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestination, function (child) {\n    var id = child.descriptor.id;\n\n    if (id === draggable.descriptor.id) {\n      return false;\n    }\n\n    var isDisplaced = Boolean(map[id]);\n    var displacedBy = isDisplaced ? canBeDisplacedBy : 0;\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displacedBy: displacedBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n\n  if (!target) {\n    return null;\n  }\n\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n\n  return withMerge;\n});\n\nvar getDragImpact = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var isWithinHomeDroppable = isHomeOf(draggable, destination);\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    userDirection: userDirection\n  });\n\n  if (withMerge) {\n    return withMerge;\n  }\n\n  return isWithinHomeDroppable ? inHomeList({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    draggable: draggable,\n    home: destination,\n    insideHome: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection\n  }) : inForeignList({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection\n  });\n});\n\nvar getDragPositions = (function (_ref) {\n  var oldInitial = _ref.initial,\n      oldCurrent = _ref.current,\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n      viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  var current = function () {\n    var reverse = negate(shift);\n    var offset$$1 = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset$$1),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset$$1),\n      offset: offset$$1\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  return {\n    current: current,\n    initial: initial\n  };\n});\n\nvar getMaxScroll = (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});\n\nvar getDroppableDimension = (function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest$$1 = _ref.closest;\n\n  var frame = function () {\n    if (!closest$$1) {\n      return null;\n    }\n\n    var scrollSize = closest$$1.scrollSize,\n        frameClient = closest$$1.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest$$1.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest$$1.shouldClipSubject,\n      scroll: {\n        initial: closest$$1.scroll,\n        current: closest$$1.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, displaceBy, draggables) {\n  var frame = droppable.frame;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = patch(droppable.axis.line, displaceBy[droppable.axis.line]);\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar getFrame = (function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n});\n\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\n\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\n\nvar adjustModifiedDroppables = (function (_ref) {\n  var modified = _ref.modified,\n      existingDroppables = _ref.existingDroppables,\n      initialWindowScroll = _ref.initialWindowScroll;\n\n  if (!modified.length) {\n    return modified;\n  }\n\n  var adjusted = modified.map(function (provided) {\n    var raw = existingDroppables[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var existing = raw.subject.withPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = existing.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(existing);\n    var newScrollable = getFrame(provided);\n\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(existing.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(existing.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, initialWindowScroll),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, initialWindowScroll),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n  return adjusted;\n});\n\nvar adjustAdditionsForScrollChanges = (function (_ref) {\n  var additions = _ref.additions,\n      modifiedDroppables = _ref.modified,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  var modifiedMap = toDroppableMap(modifiedDroppables);\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = modifiedMap[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var client = offset(draggable.client, totalChange);\n    var page = withScroll(client, viewport.scroll.initial);\n\n    var moved = _extends({}, draggable, {\n      placeholder: _extends({}, draggable.placeholder, {\n        client: client\n      }),\n      client: client,\n      page: page\n    });\n\n    return moved;\n  });\n});\n\nvar getDraggableMap = (function (_ref) {\n  var existing = _ref.existing,\n      addedDraggables = _ref.additions,\n      removedDraggables = _ref.removals,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var droppables = toDroppableList(existing.droppables);\n  var shifted = {};\n  droppables.forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing.draggables);\n    var toShift = {};\n\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      return existing.draggables[id];\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n\n      if (!isBeingRemoved) {\n        return true;\n      }\n\n      var offset$$1 = negate(patch(axis.line, item.client.marginBox[axis.size]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset$$1\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n\n      if (!wasAdded) {\n        return;\n      }\n\n      var offset$$1 = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset$$1\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n\n      var shift = toShift[item.descriptor.id];\n\n      if (!shift) {\n        return;\n      }\n\n      var client = offset(item.client, shift.offset);\n      var page = withScroll(client, initialWindowScroll);\n      var index = item.descriptor.index + shift.indexChange;\n\n      var moved = _extends({}, item, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        }),\n        placeholder: _extends({}, item.placeholder, {\n          client: client\n        }),\n        client: client,\n        page: page\n      });\n\n      shifted[moved.descriptor.id] = moved;\n    });\n  });\n\n  var draggableMap = _extends({}, existing.draggables, {}, shifted, {}, toDraggableMap(addedDraggables));\n\n  removedDraggables.forEach(function (id) {\n    delete draggableMap[id];\n  });\n  return draggableMap;\n});\n\nvar withNoAnimatedDisplacement = (function (impact) {\n  var displaced = impact.movement.displaced;\n\n  if (!displaced.length) {\n    return impact;\n  }\n\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n\n  return result;\n});\n\nvar whatIsDraggedOver = (function (impact) {\n  var merge = impact.merge,\n      destination = impact.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n\n  return null;\n});\n\nvar shouldUsePlaceholder = (function (descriptor, impact) {\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return false;\n  }\n\n  return isOver !== descriptor.droppableId;\n});\n\nvar patchDroppableMap = (function (dimensions, updated) {\n  var _extends2;\n\n  return _extends({}, dimensions, {\n    droppables: _extends({}, dimensions.droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2))\n  });\n});\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      dimensions = _ref.dimensions;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return dimensions;\n  }\n\n  if (last === now) {\n    return dimensions;\n  }\n\n  var lastDroppable = dimensions.droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return dimensions;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(dimensions, updated);\n};\n\nvar getDimensionMapWithPlaceholder = (function (_ref2) {\n  var dimensions = _ref2.dimensions,\n      previousImpact = _ref2.previousImpact,\n      draggable = _ref2.draggable,\n      impact = _ref2.impact;\n  var base = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    dimensions: dimensions\n  });\n  var usePlaceholder = shouldUsePlaceholder(draggable.descriptor, impact);\n\n  if (!usePlaceholder) {\n    return base;\n  }\n\n  var droppableId = whatIsDraggedOver(impact);\n\n  if (!droppableId) {\n    return base;\n  }\n\n  var droppable = base.droppables[droppableId];\n\n  if (droppable.subject.withPlaceholder) {\n    return base;\n  }\n\n  var patched = addPlaceholder(droppable, draggable.displaceBy, base.draggables);\n  return patchDroppableMap(base, patched);\n});\n\nvar timingsKey = 'Processing dynamic changes';\nvar publishWhileDragging = (function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var adjusted = adjustModifiedDroppables({\n    modified: published.modified,\n    existingDroppables: state.dimensions.droppables,\n    initialWindowScroll: state.viewport.scroll.initial\n  });\n  var shifted = adjustAdditionsForScrollChanges({\n    additions: published.additions,\n    modified: adjusted,\n    viewport: state.viewport\n  });\n  var patched = {\n    draggables: state.dimensions.draggables,\n    droppables: _extends({}, state.dimensions.droppables, {}, toDroppableMap(adjusted))\n  };\n  var draggables = getDraggableMap({\n    existing: patched,\n    additions: shifted,\n    removals: published.removals,\n    initialWindowScroll: state.viewport.scroll.initial\n  });\n  var dragging = state.critical.draggable.id;\n  var original = state.dimensions.draggables[dragging];\n  var updated = draggables[dragging];\n  var dimensions = getDimensionMapWithPlaceholder({\n    previousImpact: state.impact,\n    impact: state.impact,\n    draggable: updated,\n    dimensions: {\n      draggables: draggables,\n      droppables: patched.droppables\n    }\n  });\n  var critical = {\n    droppable: state.critical.droppable,\n    draggable: updated.descriptor\n  };\n\n  var _getDragPositions = getDragPositions({\n    initial: state.initial,\n    current: state.current,\n    oldClientBorderBoxCenter: original.client.borderBox.center,\n    newClientBorderBoxCenter: updated.client.borderBox.center,\n    viewport: state.viewport\n  }),\n      initial = _getDragPositions.initial,\n      current = _getDragPositions.current;\n\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: dimensions.draggables[state.critical.draggable.id],\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: noImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && state.impact.destination && !impact.destination);\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n});\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n});\n\nvar withDroppableDisplacement = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n});\n\nvar getClosestDraggable = (function (_ref) {\n  var axis = _ref.axis,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: draggable.page.borderBox,\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, a.page.borderBox.center));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, b.page.borderBox.center));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.page.borderBox[axis.start] - b.page.borderBox[axis.start];\n  });\n  return sorted[0] || null;\n});\n\nvar getWillDisplaceForward = (function (_ref) {\n  var isInHomeList = _ref.isInHomeList,\n      proposedIndex = _ref.proposedIndex,\n      startIndexInHome = _ref.startIndexInHome;\n  return isInHomeList ? proposedIndex < startIndexInHome : true;\n});\n\nvar getHomeLocation = (function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n});\n\nvar getHomeImpact = (function (draggable, home) {\n  return {\n    movement: noMovement,\n    direction: home.axis.direction,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n});\n\nvar toHomeList = (function (_ref) {\n  var moveIntoIndexOf = _ref.moveIntoIndexOf,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n\n  if (!moveIntoIndexOf) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var homeIndex = draggable.descriptor.index;\n  var targetIndex = moveIntoIndexOf.descriptor.index;\n\n  if (homeIndex === targetIndex) {\n    return getHomeImpact(draggable, destination);\n  }\n\n  var willDisplaceForward = getWillDisplaceForward({\n    isInHomeList: true,\n    proposedIndex: targetIndex,\n    startIndexInHome: homeIndex\n  });\n  var isMovingAfterStart = !willDisplaceForward;\n  var modified = isMovingAfterStart ? insideDestination.slice(homeIndex + 1, targetIndex + 1).reverse() : insideDestination.slice(targetIndex, homeIndex);\n  var displaced = modified.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame\n    });\n  });\n  !displaced.length ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must displace as least one thing if not moving into the home index') : invariant(false) : void 0;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy, willDisplaceForward);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced),\n      willDisplaceForward: willDisplaceForward\n    },\n    direction: axis.direction,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: targetIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar whenCombining = (function (_ref) {\n  var combine = _ref.combine,\n      movement = _ref.movement,\n      draggables = _ref.draggables;\n  var groupingWith = combine.draggableId;\n  var isDisplaced = Boolean(movement.map[groupingWith]);\n  var center = draggables[groupingWith].page.borderBox.center;\n  return isDisplaced ? add(center, movement.displacedBy.point) : center;\n});\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = (function (_ref) {\n  var movement = _ref.movement,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = movement.displaced,\n      willDisplaceForward = movement.willDisplaceForward,\n      displacedBy = movement.displacedBy;\n  var isOverHome = isHomeOf(draggable, droppable);\n  var closest = displaced.length ? draggables[displaced[0].draggableId] : null;\n\n  if (!closest) {\n    if (isOverHome) {\n      return draggable.page.borderBox.center;\n    }\n\n    var moveRelativeTo = insideDestination[insideDestination.length - 1];\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: moveRelativeTo.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displacedClosest = offset(closest.page, displacedBy.point);\n\n  if (willDisplaceForward) {\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: displacedClosest,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: displacedClosest,\n    isMoving: draggablePage\n  });\n});\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable\n    });\n  }\n\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables\n    });\n  }\n\n  return original;\n};\n\nvar getPageBorderBoxCenter = (function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n});\n\nvar isTotallyVisibleInNewLocation = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var diff = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, diff);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n\n  if (onlyOnMainAxis) {\n    return isTotallyVisibleOnAxis(args);\n  }\n\n  return isTotallyVisible(args);\n});\n\nvar toForeignList = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n  var axis = destination.axis;\n\n  if (!moveRelativeTo || !insideDestination.length) {\n    var proposed = {\n      movement: noMovement,\n      direction: axis.direction,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var pageBorderBoxCenter = getPageBorderBoxCenter({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables\n    });\n    var withPlaceholder = addPlaceholder(destination, draggable.displaceBy, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: pageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find draggable in foreign list') : invariant(false) : void 0;\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var proposedIndex = isGoingBeforeTarget ? targetIndex : targetIndex + 1;\n  var displaced = insideDestination.slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact\n    });\n  });\n  var willDisplaceForward = true;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy, willDisplaceForward);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced),\n      willDisplaceForward: willDisplaceForward\n    },\n    direction: axis.direction,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar moveToNewDroppable = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      moveRelativeTo = _ref.moveRelativeTo,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n\n  if (insideDestination.length && !moveRelativeTo) {\n    return null;\n  }\n\n  if (moveRelativeTo) {\n    !(moveRelativeTo.descriptor.droppableId === destination.descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unable to find target in destination droppable') : invariant(false) : void 0;\n  }\n\n  var isMovingToHome = isHomeOf(draggable, destination);\n  return isMovingToHome ? toHomeList({\n    moveIntoIndexOf: moveRelativeTo,\n    insideDestination: insideDestination,\n    draggable: draggable,\n    destination: destination,\n    previousImpact: previousImpact,\n    viewport: viewport\n  }) : toForeignList({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    previousImpact: previousImpact,\n    viewport: viewport\n  });\n});\n\nvar withViewportDisplacement = (function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n});\n\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset$$1 = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset$$1);\n});\n\nvar moveCrossAxis = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    axis: destination.axis,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n});\n\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\n\nvar moveToNextCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      originalInsideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (targetIndex < 0) {\n    return null;\n  }\n\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n\n  var target = currentInsideDestination[targetIndex];\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    direction: destination.axis.direction,\n    merge: merge\n  };\n  return impact;\n});\n\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\n\nvar fromReorder = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      previousImpact = _ref.previousImpact,\n      draggable = _ref.draggable,\n      initialInside = _ref.insideDestination;\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move to next index without previous destination') : invariant(false) : void 0;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n});\n\nvar fromCombine = (function (_ref) {\n  var isInHomeList = _ref.isInHomeList,\n      isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      draggables = _ref.draggables,\n      merge = _ref.merge;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var isCombineDisplaced = Boolean(movement.map[combineId]);\n\n  if (!isCombineDisplaced) {\n    var willDisplaceForward = getWillDisplaceForward({\n      isInHomeList: isInHomeList,\n      proposedIndex: combineIndex,\n      startIndexInHome: draggable.descriptor.index\n    });\n\n    if (willDisplaceForward) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex + 1,\n          modifyDisplacement: false\n        };\n      }\n\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  var isDisplacedForward = movement.willDisplaceForward;\n  var visualIndex = isDisplacedForward ? combineIndex + 1 : combineIndex - 1;\n\n  if (isDisplacedForward) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: visualIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: visualIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  if (isMovingForward) {\n    return {\n      proposedIndex: visualIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n\n  return {\n    proposedIndex: visualIndex,\n    modifyDisplacement: true\n  };\n});\n\nvar getIsIncreasingDisplacement = function getIsIncreasingDisplacement(_ref) {\n  var isInHomeList = _ref.isInHomeList,\n      isMovingForward = _ref.isMovingForward,\n      proposedIndex = _ref.proposedIndex,\n      startIndexInHome = _ref.startIndexInHome;\n\n  if (!isInHomeList) {\n    return !isMovingForward;\n  }\n\n  if (isMovingForward) {\n    return proposedIndex > startIndexInHome;\n  }\n\n  return proposedIndex < startIndexInHome;\n};\n\nvar moveToNextIndex = (function (_ref2) {\n  var isMovingForward = _ref2.isMovingForward,\n      isInHomeList = _ref2.isInHomeList,\n      draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      previousImpact = _ref2.previousImpact;\n\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        previousImpact: previousImpact,\n        insideDestination: insideDestination\n      });\n    }\n\n    !previousImpact.merge ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move to next spot without a destination or merge') : invariant(false) : void 0;\n    return fromCombine({\n      isInHomeList: isInHomeList,\n      isMovingForward: isMovingForward,\n      draggable: draggable,\n      destination: destination,\n      previousImpact: previousImpact,\n      draggables: draggables,\n      merge: previousImpact.merge\n    });\n  }();\n\n  if (instruction == null) {\n    return null;\n  }\n\n  var proposedIndex = instruction.proposedIndex,\n      modifyDisplacement = instruction.modifyDisplacement;\n  var startIndexInHome = draggable.descriptor.index;\n  var willDisplaceForward = getWillDisplaceForward({\n    isInHomeList: isInHomeList,\n    proposedIndex: proposedIndex,\n    startIndexInHome: startIndexInHome\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy, willDisplaceForward);\n  var atProposedIndex = insideDestination[proposedIndex];\n\n  var displaced = function () {\n    if (!modifyDisplacement) {\n      return previousImpact.movement.displaced;\n    }\n\n    var isIncreasingDisplacement = getIsIncreasingDisplacement({\n      isInHomeList: isInHomeList,\n      isMovingForward: isMovingForward,\n      proposedIndex: proposedIndex,\n      startIndexInHome: startIndexInHome\n    });\n    var lastDisplaced = previousImpact.movement.displaced;\n    return isIncreasingDisplacement ? addClosest(atProposedIndex, lastDisplaced) : removeClosest(lastDisplaced);\n  }();\n\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      willDisplaceForward: willDisplaceForward,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    direction: destination.axis.direction,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n});\n\nvar scrollViewport = (function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n});\n\nvar withNewDisplacement = (function (impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n});\n\nvar speculativelyIncrease = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n\n    var result = getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame\n    });\n\n    if (!result.isVisible) {\n      return entry;\n    }\n\n    return {\n      draggableId: entry.draggableId,\n      isVisible: true,\n      shouldAnimate: false\n    };\n  });\n  return withNewDisplacement(impact, updated);\n});\n\nvar moveToNextPlace = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance$$1 = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance$$1\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance$$1\n  };\n});\n\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = (function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  var viewport = state.viewport;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: viewport,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: viewport\n  });\n});\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'down' : 'up';\n};\n\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'right' : 'left';\n};\n\nvar getUserDirection = (function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n});\n\nvar update = (function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset$$1 = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset$$1,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset$$1)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection\n  });\n  var withUpdatedPlaceholders = getDimensionMapWithPlaceholder({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    dimensions: dimensions\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: withUpdatedPlaceholders,\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n});\n\nvar recomputeDisplacementVisibility = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame\n    });\n  });\n  return withNewDisplacement(impact, updated);\n});\n\nvar getClientBorderBoxCenter = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var pageBorderBoxCenter = getPageBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n});\n\nvar refreshSnap = (function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recomputeDisplacementVisibility({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n});\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDroppableMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nvar idle = {\n  phase: 'IDLE'\n};\nvar reducer = (function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'CLEAN') {\n    return idle;\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: getHomeImpact(draggable, home),\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        offset$$1 = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, offset$$1);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n\n    var _viewport = scrollViewport(state.viewport, newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update viewport scroll in phase \" + state.phase) : invariant(false) : void 0;\n    var maxScroll = action.payload.maxScroll;\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var pending = action.payload;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      pending: pending,\n      dimensions: state.dimensions\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    return idle;\n  }\n\n  return state;\n});\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar clean = function clean() {\n  return {\n    type: 'CLEAN',\n    payload: null\n  };\n};\nvar animateDrop = function animateDrop(pending) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: pending\n  };\n};\nvar completeDrop = function completeDrop(result) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: result\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nvar lift$1 = (function (getMarshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var marshal = getMarshal();\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop(initial.pending.result));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n});\n\nvar style = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.result.reason);\n        }\n\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar minDropTime = 0.33;\nvar maxDropTime = 0.55;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = (function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$$1 = distance(current, destination);\n\n  if (distance$$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n});\n\nvar getNewHomeClientOffset = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset$$1 = subtract(newClientCenter, draggable.client.borderBox.center);\n  return offset$$1;\n});\n\nvar drop$1 = (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var impact = reason === 'DROP' ? state.impact : noImpact;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = impact ? impact.destination : null;\n      var combine = impact && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine,\n        reason: reason\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport\n      });\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop(result));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var pending = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        result: result,\n        impact: impact\n      };\n      dispatch(animateDrop(pending));\n    };\n  };\n});\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\n\nvar clean$1 = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean$1(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean$1(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nvar warning = function warning(message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\n\nvar getExpiringAnnounce = (function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n});\n\nvar getAsyncMarshal = (function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = entries.concat();\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n});\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = (function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start$$1 = function start$$1(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeStart: beforeStart,\n    start: start$$1,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n});\n\nvar responders = (function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n});\n\nvar dropAnimationFinish = (function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop(state.pending.result));\n    };\n  };\n});\n\nvar dimensionMarshalStopper = (function (getMarshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          var marshal = getMarshal();\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\n\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\n\nvar autoScroll = (function (getScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          getScroller().stop();\n          next(action);\n          return;\n        }\n\n        if (shouldCancelPending(action)) {\n          getScroller().cancelPending();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          getScroller().start(state);\n          return;\n        }\n\n        next(action);\n        getScroller().scroll(store.getState());\n      };\n    };\n  };\n});\n\nvar pendingDrop = (function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n});\n\nvar getDocumentElement = (function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n});\n\nvar getMaxWindowScroll = (function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});\n\nvar shouldCheckOnAction = function shouldCheckOnAction(action) {\n  return action.type === 'MOVE' || action.type === 'MOVE_UP' || action.type === 'MOVE_RIGHT' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_BY_WINDOW_SCROLL';\n};\n\nvar wasDestinationChange = function wasDestinationChange(previous, current, action) {\n  if (!shouldCheckOnAction(action)) {\n    return false;\n  }\n\n  if (!isMovementAllowed(previous) || !isMovementAllowed(current)) {\n    return false;\n  }\n\n  if (whatIsDraggedOver(previous.impact) === whatIsDraggedOver(current.impact)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar getUpdatedViewportMax = function getUpdatedViewportMax(viewport) {\n  var maxScroll = getMaxWindowScroll();\n\n  if (isEqual(viewport.scroll.max, maxScroll)) {\n    return null;\n  }\n\n  return maxScroll;\n};\n\nvar updateViewportMaxScrollOnDestinationChange = (function (store) {\n  return function (next) {\n    return function (action) {\n      var previous = store.getState();\n      next(action);\n      var current = store.getState();\n\n      if (!current.isDragging) {\n        return;\n      }\n\n      if (!wasDestinationChange(previous, current, action)) {\n        return;\n      }\n\n      var maxScroll = getUpdatedViewportMax(current.viewport);\n\n      if (maxScroll) {\n        next(updateViewportMaxScroll({\n          maxScroll: maxScroll\n        }));\n      }\n    };\n  };\n});\n\nvar composeEnhancers = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\nvar createStore$1 = (function (_ref) {\n  var getDimensionMarshal = _ref.getDimensionMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      getScroller = _ref.getScroller;\n  return createStore(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(getDimensionMarshal), lift$1(getDimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, updateViewportMaxScrollOnDestinationChange, autoScroll(getScroller), responders(getResponders, announce))));\n});\n\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\nvar createPublisher = (function (_ref) {\n  var getEntries = _ref.getEntries,\n      callbacks = _ref.callbacks;\n\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n\n  var staging = clean$2();\n  var frameId = null;\n\n  var collect = function collect() {\n    advancedUsageWarning();\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        return entry.callbacks.recollect();\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add$$1 = function add$$1(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n\n  return {\n    add: add$$1,\n    remove: remove,\n    stop: stop\n  };\n});\n\nvar getWindowScroll = (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});\n\nvar getViewport = (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n});\n\nvar getInitialPublish = (function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n});\n\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\n\nvar createDimensionMarshal = (function (callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n\n    if (!collection) {\n      return;\n    }\n\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n\n  var updateDraggable = function updateDraggable(previous, descriptor, getDimension) {\n    !entries.draggables[previous.id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no previous registration was found') : invariant(false) : void 0;\n    delete entries.draggables[previous.id];\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.draggables[descriptor.id];\n\n    if (!collection) {\n      return;\n    }\n\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppable = function updateDroppable(previous, descriptor, droppableCallbacks) {\n    !entries.droppables[previous.id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update droppable registration as no previous registration was found') : invariant(false) : void 0;\n    delete entries.droppables[previous.id];\n    var entry = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    entries.droppables[descriptor.id] = entry;\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'You are not able to update the id or type of a droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    entry.callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    updateDroppable: updateDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n});\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar outOfTheWayTime = 0.2;\nvar outOfTheWayTiming = outOfTheWayTime + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset$$1) {\n  return isEqual(offset$$1, origin) ? null : \"translate(\" + offset$$1.x + \"px, \" + offset$$1.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset$$1, isCombining) {\n    var translate = moveTo(offset$$1);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\n\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = (function (styleContext) {\n  var getSelector = makeGetSelector(styleContext);\n\n  var dragHandle$$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$$1, dragHandle$$1, droppable$$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n});\n\nvar count = 0;\nvar resetStyleContext = function resetStyleContext() {\n  count = 0;\n};\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\n\nvar createStyleMarshal = (function () {\n  var context = \"\" + count++;\n  var styles = getStyles$1(context);\n  var always = null;\n  var dynamic = null;\n  var setStyle = memoizeOne(function (el, proposed) {\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set style of style tag if not mounted') : invariant(false) : void 0;\n    el.innerHTML = proposed;\n  });\n\n  var mount = function mount() {\n    !(!always && !dynamic) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Style marshal already mounted') : invariant(false) : void 0;\n    always = createStyleEl();\n    dynamic = createStyleEl();\n    always.setAttribute(prefix + \"-always\", context);\n    dynamic.setAttribute(prefix + \"-dynamic\", context);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setStyle(always, styles.always);\n    setStyle(dynamic, styles.resting);\n  };\n\n  var dragging = function dragging() {\n    return setStyle(dynamic, styles.dragging);\n  };\n\n  var dropping = function dropping(reason) {\n    if (reason === 'DROP') {\n      setStyle(dynamic, styles.dropAnimating);\n      return;\n    }\n\n    setStyle(dynamic, styles.userCancel);\n  };\n\n  var resting = function resting() {\n    return setStyle(dynamic, styles.resting);\n  };\n\n  var unmount = function unmount() {\n    !(always && dynamic) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount style marshal as it is already unmounted') : invariant(false) : void 0;\n    getHead().removeChild(always);\n    getHead().removeChild(dynamic);\n    always = null;\n    dynamic = null;\n  };\n\n  var marshal = {\n    dragging: dragging,\n    dropping: dropping,\n    resting: resting,\n    styleContext: context,\n    mount: mount,\n    unmount: unmount\n  };\n  return marshal;\n});\n\nvar canStartDrag = (function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.pending.result.draggableId === id) {\n    return false;\n  }\n\n  return state.pending.result.reason === 'DROP';\n});\n\nvar scrollWindow = (function (change) {\n  window.scrollBy(change.x, change.y);\n});\n\nvar getBodyElement = (function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n});\n\nvar count$1 = 0;\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\nvar createAnnouncer = (function () {\n  var id = \"react-beautiful-dnd-announcement-\" + count$1++;\n  var el = null;\n\n  var announce = function announce(message) {\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  };\n\n  var mount = function mount() {\n    !!el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcer already mounted') : invariant(false) : void 0;\n    el = document.createElement('div');\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n  };\n\n  var unmount = function unmount() {\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Will not unmount announcer as it is already unmounted') : invariant(false) : void 0;\n    getBodyElement().removeChild(el);\n    el = null;\n  };\n\n  var announcer = {\n    announce: announce,\n    id: id,\n    mount: mount,\n    unmount: unmount\n  };\n  return announcer;\n});\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = (function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n});\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = (function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n});\n\nvar getPercentage = (function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n});\n\nvar minScroll = 1;\n\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n});\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n});\n\nvar getValue = (function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n});\n\nvar getScrollOnAxis = (function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});\n\nvar adjustForSizeLimits = (function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n});\n\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n});\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = (function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});\n\nvar getDroppableScrollChange = (function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n});\n\nvar scroll$1 = (function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n});\n\nvar createFluidScroller = (function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n\n  var start$$1 = function start$$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    cancelPending();\n    dragging = null;\n  };\n\n  return {\n    start: start$$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n});\n\nvar createJumpScroller = (function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset$$1) {\n    var client = add(state.current.client.selection, offset$$1);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n});\n\nvar createAutoScroller = (function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n});\n\nvar prefix$1 = function prefix(key) {\n  return \"private-react-beautiful-dnd-key-do-not-use-\" + key;\n};\n\nvar storeKey = prefix$1('store');\nvar droppableIdKey = prefix$1('droppable-id');\nvar droppableTypeKey = prefix$1('droppable-type');\nvar dimensionMarshalKey = prefix$1('dimension-marshal');\nvar styleContextKey = prefix$1('style-context');\nvar canLiftContextKey = prefix$1('can-lift');\n\nvar peerDependencies = {\n\treact: \"^16.3.1\"\n};\n\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = (function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n});\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd#use-the-html5-doctype\\n\";\nvar checkDoctype = (function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n});\n\nvar _DragDropContext$chil;\nvar resetServerContext = function resetServerContext() {\n  resetStyleContext();\n};\n\nvar printFatalDevError = function printFatalDevError(error) {\n  var _console;\n\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n      An error has occurred while a drag is occurring.\\n      Any existing drag will be cancelled.\\n\\n      > \" + error.message + \"\\n      \"));\n\n  console.error('raw', error);\n};\n\nvar DragDropContext = function (_React$Component) {\n  _inheritsLoose(DragDropContext, _React$Component);\n\n  function DragDropContext(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.store = void 0;\n    _this.dimensionMarshal = void 0;\n    _this.styleMarshal = void 0;\n    _this.autoScroller = void 0;\n    _this.announcer = void 0;\n    _this.unsubscribe = void 0;\n\n    _this.canLift = function (id) {\n      return canStartDrag(_this.store.getState(), id);\n    };\n\n    _this.onFatalError = function (error) {\n      printFatalDevError(error);\n\n      var state = _this.store.getState();\n\n      if (state.phase !== 'IDLE') {\n        _this.store.dispatch(clean());\n      }\n    };\n\n    _this.onWindowError = function (error) {\n      return _this.onFatalError(error);\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      !(typeof props.onDragEnd === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DragDropContext requires an onDragEnd function to perform reordering logic') : invariant(false) : void 0;\n    }\n\n    _this.announcer = createAnnouncer();\n    _this.styleMarshal = createStyleMarshal();\n    _this.store = createStore$1({\n      getDimensionMarshal: function getDimensionMarshal() {\n        return _this.dimensionMarshal;\n      },\n      styleMarshal: _this.styleMarshal,\n      getResponders: function getResponders() {\n        return {\n          onBeforeDragStart: _this.props.onBeforeDragStart,\n          onDragStart: _this.props.onDragStart,\n          onDragEnd: _this.props.onDragEnd,\n          onDragUpdate: _this.props.onDragUpdate\n        };\n      },\n      announce: _this.announcer.announce,\n      getScroller: function getScroller() {\n        return _this.autoScroller;\n      }\n    });\n    var callbacks = bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, _this.store.dispatch);\n    _this.dimensionMarshal = createDimensionMarshal(callbacks);\n    _this.autoScroller = createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: _this.dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, _this.store.dispatch)));\n    return _this;\n  }\n\n  var _proto = DragDropContext.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    var _ref;\n\n    return _ref = {}, _ref[storeKey] = this.store, _ref[dimensionMarshalKey] = this.dimensionMarshal, _ref[styleContextKey] = this.styleMarshal.styleContext, _ref[canLiftContextKey] = this.canLift, _ref;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onWindowError);\n    this.styleMarshal.mount();\n    this.announcer.mount();\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkReactVersion(peerDependencies.react, React.version);\n      checkDoctype(document);\n    }\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n\n    if (error.message.indexOf('Invariant failed') !== -1) {\n      this.setState({});\n      return;\n    }\n\n    throw error;\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onWindowError);\n    var state = this.store.getState();\n\n    if (state.phase !== 'IDLE') {\n      this.store.dispatch(clean());\n    }\n\n    this.styleMarshal.unmount();\n    this.announcer.unmount();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DragDropContext;\n}(React.Component);\n\nDragDropContext.childContextTypes = (_DragDropContext$chil = {}, _DragDropContext$chil[storeKey] = PropTypes.shape({\n  dispatch: PropTypes.func.isRequired,\n  subscribe: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n}).isRequired, _DragDropContext$chil[dimensionMarshalKey] = PropTypes.object.isRequired, _DragDropContext$chil[styleContextKey] = PropTypes.string.isRequired, _DragDropContext$chil[canLiftContextKey] = PropTypes.func.isRequired, _DragDropContext$chil);\n\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = (function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n});\n\nvar getScroll$1 = (function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n});\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = (function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n});\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = (function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n});\n\nvar _DroppableDimensionPu;\n\nvar getClosestScrollable$1 = function getClosestScrollable(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\n\nvar getListenerOptions = function getListenerOptions(options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\n\nvar withoutPlaceholder = function withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n};\n\nvar DroppableDimensionPublisher = function (_React$Component) {\n  _inheritsLoose(DroppableDimensionPublisher, _React$Component);\n\n  function DroppableDimensionPublisher(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.dragging = void 0;\n    _this.callbacks = void 0;\n    _this.publishedDescriptor = null;\n\n    _this.getClosestScroll = function () {\n      var dragging = _this.dragging;\n\n      if (!dragging || !dragging.env.closestScrollable) {\n        return origin;\n      }\n\n      return getScroll$1(dragging.env.closestScrollable);\n    };\n\n    _this.memoizedUpdateScroll = memoizeOne(function (x, y) {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update scroll on unpublished droppable') : invariant(false) : void 0;\n      var newScroll = {\n        x: x,\n        y: y\n      };\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.updateDroppableScroll(_this.publishedDescriptor.id, newScroll);\n    });\n\n    _this.updateScroll = function () {\n      var scroll = _this.getClosestScroll();\n\n      _this.memoizedUpdateScroll(scroll.x, scroll.y);\n    };\n\n    _this.scheduleScrollUpdate = rafSchd(_this.updateScroll);\n\n    _this.onClosestScroll = function () {\n      var dragging = _this.dragging;\n      var closest$$1 = getClosestScrollable$1(_this.dragging);\n      !(dragging && closest$$1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n      var options = dragging.scrollOptions;\n\n      if (options.shouldPublishImmediately) {\n        _this.updateScroll();\n\n        return;\n      }\n\n      _this.scheduleScrollUpdate();\n    };\n\n    _this.scroll = function (change) {\n      var closest$$1 = getClosestScrollable$1(_this.dragging);\n      !closest$$1 ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n      closest$$1.scrollTop += change.y;\n      closest$$1.scrollLeft += change.x;\n    };\n\n    _this.dragStopped = function () {\n      var dragging = _this.dragging;\n      !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n      var closest$$1 = getClosestScrollable$1(dragging);\n      _this.dragging = null;\n\n      if (!closest$$1) {\n        return;\n      }\n\n      _this.scheduleScrollUpdate.cancel();\n\n      closest$$1.removeEventListener('scroll', _this.onClosestScroll, getListenerOptions(dragging.scrollOptions));\n    };\n\n    _this.getMemoizedDescriptor = memoizeOne(function (id, type) {\n      return {\n        id: id,\n        type: type\n      };\n    });\n\n    _this.publish = function () {\n      var marshal = _this.context[dimensionMarshalKey];\n\n      var descriptor = _this.getMemoizedDescriptor(_this.props.droppableId, _this.props.type);\n\n      if (!_this.publishedDescriptor) {\n        marshal.registerDroppable(descriptor, _this.callbacks);\n        _this.publishedDescriptor = descriptor;\n        return;\n      }\n\n      if (_this.publishedDescriptor === descriptor) {\n        return;\n      }\n\n      marshal.updateDroppable(_this.publishedDescriptor, descriptor, _this.callbacks);\n      _this.publishedDescriptor = descriptor;\n    };\n\n    _this.unpublish = function () {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unpublish descriptor when none is published') : invariant(false) : void 0;\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.unregisterDroppable(_this.publishedDescriptor);\n      _this.publishedDescriptor = null;\n    };\n\n    _this.recollect = function () {\n      var dragging = _this.dragging;\n      var closest$$1 = getClosestScrollable$1(dragging);\n      !(dragging && closest$$1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n      return withoutPlaceholder(_this.props.getPlaceholderRef(), function () {\n        return getDimension({\n          ref: dragging.ref,\n          descriptor: dragging.descriptor,\n          env: dragging.env,\n          windowScroll: origin,\n          direction: _this.props.direction,\n          isDropDisabled: _this.props.isDropDisabled,\n          isCombineEnabled: _this.props.isCombineEnabled,\n          shouldClipSubject: !_this.props.ignoreContainerClipping\n        });\n      });\n    };\n\n    _this.getDimensionAndWatchScroll = function (windowScroll, options) {\n      !!_this.dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n      var descriptor = _this.publishedDescriptor;\n      !descriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension for unpublished droppable') : invariant(false) : void 0;\n\n      var ref = _this.props.getDroppableRef();\n\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n      var env = getEnv(ref);\n      var dragging = {\n        ref: ref,\n        descriptor: descriptor,\n        env: env,\n        scrollOptions: options\n      };\n      _this.dragging = dragging;\n      var dimension = getDimension({\n        ref: ref,\n        descriptor: descriptor,\n        env: env,\n        windowScroll: windowScroll,\n        direction: _this.props.direction,\n        isDropDisabled: _this.props.isDropDisabled,\n        isCombineEnabled: _this.props.isCombineEnabled,\n        shouldClipSubject: !_this.props.ignoreContainerClipping\n      });\n\n      if (env.closestScrollable) {\n        env.closestScrollable.addEventListener('scroll', _this.onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n        if (process.env.NODE_ENV !== 'production') {\n          checkForNestedScrollContainers(env.closestScrollable);\n        }\n      }\n\n      return dimension;\n    };\n\n    var callbacks = {\n      getDimensionAndWatchScroll: _this.getDimensionAndWatchScroll,\n      recollect: _this.recollect,\n      dragStopped: _this.dragStopped,\n      scroll: _this.scroll\n    };\n    _this.callbacks = callbacks;\n    return _this;\n  }\n\n  var _proto = DroppableDimensionPublisher.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.publish();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    this.publish();\n\n    if (!this.dragging) {\n      return;\n    }\n\n    var isDisabledChanged = this.props.isDropDisabled !== prevProps.isDropDisabled;\n    var isCombineChanged = this.props.isCombineEnabled !== prevProps.isCombineEnabled;\n\n    if (!isDisabledChanged && !isCombineChanged) {\n      return;\n    }\n\n    var marshal = this.context[dimensionMarshalKey];\n\n    if (isDisabledChanged) {\n      marshal.updateDroppableIsEnabled(this.props.droppableId, !this.props.isDropDisabled);\n    }\n\n    if (isCombineChanged) {\n      marshal.updateDroppableIsCombineEnabled(this.props.droppableId, this.props.isCombineEnabled);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.dragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('unmounting droppable while a drag is occurring') : void 0;\n      this.dragStopped();\n    }\n\n    this.unpublish();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DroppableDimensionPublisher;\n}(React.Component);\n\nDroppableDimensionPublisher.contextTypes = (_DroppableDimensionPu = {}, _DroppableDimensionPu[dimensionMarshalKey] = PropTypes.object.isRequired, _DroppableDimensionPu);\n\nvar Placeholder = function (_PureComponent) {\n  _inheritsLoose(Placeholder, _PureComponent);\n\n  function Placeholder() {\n    return _PureComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Placeholder.prototype;\n\n  _proto.render = function render() {\n    var placeholder = this.props.placeholder;\n    var client = placeholder.client,\n        display = placeholder.display,\n        tagName = placeholder.tagName;\n    var style = {\n      display: display,\n      boxSizing: 'border-box',\n      width: client.borderBox.width,\n      height: client.borderBox.height,\n      marginTop: client.margin.top,\n      marginRight: client.margin.right,\n      marginBottom: client.margin.bottom,\n      marginLeft: client.margin.left,\n      flexShrink: '0',\n      flexGrow: '0',\n      pointerEvents: 'none'\n    };\n    return React.createElement(tagName, {\n      style: style,\n      ref: this.props.innerRef\n    });\n  };\n\n  return Placeholder;\n}(PureComponent);\n\nvar getWindowFromEl = (function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n});\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nvar throwIfRefIsInvalid = (function (ref) {\n  !(ref && isHtmlElement(ref)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n});\n\nvar checkOwnProps = (function (props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n});\n\nvar _Droppable$contextTyp, _Droppable$childConte;\n\nvar Droppable = function (_Component) {\n  _inheritsLoose(Droppable, _Component);\n\n  function Droppable(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    _this.styleContext = void 0;\n    _this.ref = null;\n    _this.placeholderRef = null;\n\n    _this.setPlaceholderRef = function (ref) {\n      _this.placeholderRef = ref;\n    };\n\n    _this.getPlaceholderRef = function () {\n      return _this.placeholderRef;\n    };\n\n    _this.setRef = function (ref) {\n      if (ref === null) {\n        return;\n      }\n\n      if (ref === _this.ref) {\n        return;\n      }\n\n      _this.ref = ref;\n      throwIfRefIsInvalid(ref);\n    };\n\n    _this.getDroppableRef = function () {\n      return _this.ref;\n    };\n\n    _this.styleContext = context[styleContextKey];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n    }\n\n    return _this;\n  }\n\n  var _proto = Droppable.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    var _value;\n\n    var value = (_value = {}, _value[droppableIdKey] = this.props.droppableId, _value[droppableTypeKey] = this.props.type, _value);\n    return value;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    throwIfRefIsInvalid(this.ref);\n    this.warnIfPlaceholderNotMounted();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.warnIfPlaceholderNotMounted();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.ref = null;\n    this.placeholderRef = null;\n  };\n\n  _proto.warnIfPlaceholderNotMounted = function warnIfPlaceholderNotMounted() {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    if (!this.props.placeholder) {\n      return;\n    }\n\n    if (this.placeholderRef) {\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue: DroppableProvided > placeholder could not be found.\\n      Please be sure to add the {provided.placeholder} Node as a child of your Droppable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd#1-provided-droppableprovided\\n    \") : void 0;\n  };\n\n  _proto.getPlaceholder = function getPlaceholder() {\n    if (!this.props.placeholder) {\n      return null;\n    }\n\n    return React.createElement(Placeholder, {\n      placeholder: this.props.placeholder,\n      innerRef: this.setPlaceholderRef\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        direction = _this$props.direction,\n        type = _this$props.type,\n        droppableId = _this$props.droppableId,\n        isDropDisabled = _this$props.isDropDisabled,\n        isCombineEnabled = _this$props.isCombineEnabled,\n        ignoreContainerClipping = _this$props.ignoreContainerClipping,\n        isDraggingOver = _this$props.isDraggingOver,\n        draggingOverWith = _this$props.draggingOverWith;\n    var provided = {\n      innerRef: this.setRef,\n      placeholder: this.getPlaceholder(),\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': this.styleContext\n      }\n    };\n    var snapshot = {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith\n    };\n    return React.createElement(DroppableDimensionPublisher, {\n      droppableId: droppableId,\n      type: type,\n      direction: direction,\n      ignoreContainerClipping: ignoreContainerClipping,\n      isDropDisabled: isDropDisabled,\n      isCombineEnabled: isCombineEnabled,\n      getDroppableRef: this.getDroppableRef,\n      getPlaceholderRef: this.getPlaceholderRef\n    }, children(provided, snapshot));\n  };\n\n  return Droppable;\n}(Component);\n\nDroppable.contextTypes = (_Droppable$contextTyp = {}, _Droppable$contextTyp[styleContextKey] = PropTypes.string.isRequired, _Droppable$contextTyp);\nDroppable.childContextTypes = (_Droppable$childConte = {}, _Droppable$childConte[droppableIdKey] = PropTypes.string.isRequired, _Droppable$childConte[droppableTypeKey] = PropTypes.string.isRequired, _Droppable$childConte);\n\nvar isStrictEqual = (function (a, b) {\n  return a === b;\n});\n\nvar defaultMapProps = {\n  isDraggingOver: false,\n  draggingOverWith: null,\n  placeholder: null\n};\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var getMapProps = memoizeOne(function (isDraggingOver, draggingOverWith, placeholder) {\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      placeholder: placeholder\n    };\n  });\n\n  var getDraggingOverProps = function getDraggingOverProps(id, draggable, impact) {\n    var isOver = whatIsDraggedOver(impact) === id;\n\n    if (!isOver) {\n      return defaultMapProps;\n    }\n\n    var usePlaceholder = shouldUsePlaceholder(draggable.descriptor, impact);\n    var placeholder = usePlaceholder ? draggable.placeholder : null;\n    return getMapProps(true, draggable.descriptor.id, placeholder);\n  };\n\n  var selector = function selector(state, ownProps) {\n    if (ownProps.isDropDisabled) {\n      return defaultMapProps;\n    }\n\n    var id = ownProps.droppableId;\n\n    if (state.isDragging) {\n      var draggable = state.dimensions.draggables[state.critical.draggable.id];\n      return getDraggingOverProps(id, draggable, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var _draggable = state.dimensions.draggables[state.pending.result.draggableId];\n      return getDraggingOverProps(id, _draggable, state.pending.impact);\n    }\n\n    return defaultMapProps;\n  };\n\n  return selector;\n};\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, null, null, {\n  storeKey: storeKey,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nvar _DraggableDimensionPu;\n\nvar DraggableDimensionPublisher = function (_Component) {\n  _inheritsLoose(DraggableDimensionPublisher, _Component);\n\n  function DraggableDimensionPublisher() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.publishedDescriptor = null;\n    _this.getMemoizedDescriptor = memoizeOne(function (id, index, droppableId, type) {\n      return {\n        id: id,\n        index: index,\n        droppableId: droppableId,\n        type: type\n      };\n    });\n\n    _this.publish = function () {\n      var marshal = _this.context[dimensionMarshalKey];\n\n      var descriptor = _this.getMemoizedDescriptor(_this.props.draggableId, _this.props.index, _this.props.droppableId, _this.props.type);\n\n      if (!_this.publishedDescriptor) {\n        marshal.registerDraggable(descriptor, _this.getDimension);\n        _this.publishedDescriptor = descriptor;\n        return;\n      }\n\n      if (descriptor === _this.publishedDescriptor) {\n        return;\n      }\n\n      marshal.updateDraggable(_this.publishedDescriptor, descriptor, _this.getDimension);\n      _this.publishedDescriptor = descriptor;\n    };\n\n    _this.unpublish = function () {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unpublish descriptor when none is published') : invariant(false) : void 0;\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.unregisterDraggable(_this.publishedDescriptor);\n      _this.publishedDescriptor = null;\n    };\n\n    _this.getDimension = function (windowScroll) {\n      if (windowScroll === void 0) {\n        windowScroll = origin;\n      }\n\n      var targetRef = _this.props.getDraggableRef();\n\n      var descriptor = _this.publishedDescriptor;\n      !targetRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DraggableDimensionPublisher cannot calculate a dimension when not attached to the DOM') : invariant(false) : void 0;\n      !descriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension for unpublished draggable') : invariant(false) : void 0;\n      var computedStyles = window.getComputedStyle(targetRef);\n      var borderBox = targetRef.getBoundingClientRect();\n      var client = calculateBox(borderBox, computedStyles);\n      var page = withScroll(client, windowScroll);\n      var placeholder = {\n        client: client,\n        tagName: targetRef.tagName.toLowerCase(),\n        display: computedStyles.display\n      };\n      var displaceBy = {\n        x: client.marginBox.width,\n        y: client.marginBox.height\n      };\n      var dimension = {\n        descriptor: descriptor,\n        placeholder: placeholder,\n        displaceBy: displaceBy,\n        client: client,\n        page: page\n      };\n      return dimension;\n    };\n\n    return _this;\n  }\n\n  var _proto = DraggableDimensionPublisher.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.publish();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.publish();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unpublish();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DraggableDimensionPublisher;\n}(Component);\n\nDraggableDimensionPublisher.contextTypes = (_DraggableDimensionPu = {}, _DraggableDimensionPu[dimensionMarshalKey] = PropTypes.object.isRequired, _DraggableDimensionPu);\n\nfunction isSvgElement(el) {\n  return el instanceof getWindowFromEl(el).SVGElement;\n}\n\nvar selector = \"[\" + dragHandle + \"]\";\n\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\n\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd#draggable\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\n\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\n\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n\n  var result = function result() {\n    return bind();\n  };\n\n  result.cancel = function () {\n    return unbind();\n  };\n\n  return result;\n}();\n\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\n\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n\n  if (id !== retainingFocusFor) {\n    return;\n  }\n\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n\n  dragHandleRef.focus();\n};\n\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n};\n\nvar shouldAllowDraggingFromTarget = (function (event, props) {\n  if (props.canDragInteractiveElements) {\n    return true;\n  }\n\n  var target = event.target,\n      currentTarget = event.currentTarget;\n\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n\n  return !isAnInteractiveElement(currentTarget, target);\n});\n\nvar createScheduler = (function (callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n});\n\nvar sloppyClickThreshold = 5;\nvar isSloppyClickThresholdExceeded = (function (original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n});\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = (function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n});\n\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, {}, fromBinding);\n};\n\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar sharedOptions = {\n  capture: true\n};\nvar createPostDragEventPreventer = (function (getWindow) {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n\n    bind();\n  };\n\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n});\n\nvar createEventMarshal = (function () {\n  var isMouseDownHandled = false;\n\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n});\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\n\nvar noop = function noop() {};\n\nvar mouseDownMarshal = createEventMarshal();\nvar createMouseSensor = (function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      canStartCapturing = _ref.canStartCapturing;\n  var state = {\n    isDragging: false,\n    pending: null\n  };\n\n  var setState = function setState(newState) {\n    state = newState;\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var isCapturing = function isCapturing() {\n    return Boolean(state.pending || state.isDragging);\n  };\n\n  var schedule = createScheduler(callbacks);\n  var postDragEventPreventer = createPostDragEventPreventer(getWindow);\n\n  var startDragging = function startDragging(fn) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    setState({\n      pending: null,\n      isDragging: true\n    });\n    fn();\n  };\n\n  var stopDragging = function stopDragging(fn, shouldBlockClick) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    if (shouldBlockClick === void 0) {\n      shouldBlockClick = true;\n    }\n\n    schedule.cancel();\n    unbindWindowEvents();\n    mouseDownMarshal.reset();\n\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n\n    setState({\n      isDragging: false,\n      pending: null\n    });\n    fn();\n  };\n\n  var startPendingDrag = function startPendingDrag(point) {\n    setState({\n      pending: point,\n      isDragging: false\n    });\n    bindWindowEvents();\n  };\n\n  var stopPendingDrag = function stopPendingDrag() {\n    stopDragging(noop, false);\n  };\n\n  var kill = function kill(fn) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    if (state.pending) {\n      stopPendingDrag();\n      return;\n    }\n\n    if (state.isDragging) {\n      stopDragging(fn);\n    }\n  };\n\n  var unmount = function unmount() {\n    kill();\n    postDragEventPreventer.abort();\n  };\n\n  var cancel = function cancel() {\n    kill(callbacks.onCancel);\n  };\n\n  var windowBindings = [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n\n      if (state.isDragging) {\n        event.preventDefault();\n        schedule.move(point);\n        return;\n      }\n\n      if (!state.pending) {\n        stopPendingDrag();\n        process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n      }\n\n      if (!isSloppyClickThresholdExceeded(state.pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      startDragging(function () {\n        return callbacks.onLift({\n          clientSelection: point,\n          movementMode: 'FLUID'\n        });\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (state.isDragging) {\n        event.preventDefault();\n      }\n\n      stopDragging(callbacks.onCancel);\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      schedule.windowScrollMove();\n    }\n  }, {\n    eventName: 'webkitmouseforcechanged',\n    fn: function fn(event) {\n      if (event.webkitForce == null || MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN == null) {\n        process.env.NODE_ENV !== \"production\" ? warning('handling a mouse force changed event when it is not supported') : void 0;\n        return;\n      }\n\n      var forcePressThreshold = MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;\n      var isForcePressing = event.webkitForce >= forcePressThreshold;\n\n      if (isForcePressing) {\n        cancel();\n      }\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    var win = getWindow();\n    bindEvents(win, windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    var win = getWindow();\n    unbindEvents(win, windowBindings, {\n      capture: true\n    });\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n\n    !!isCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    if (event.button !== primaryButton) {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  };\n\n  var sensor = {\n    onMouseDown: onMouseDown,\n    kill: kill,\n    isCapturing: isCapturing,\n    isDragging: isDragging,\n    unmount: unmount\n  };\n  return sensor;\n});\n\nvar getBorderBoxCenterPosition = (function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n});\n\nvar _scrollJumpKeys;\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nvar noop$1 = function noop() {};\n\nvar createKeyboardSensor = (function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      getDraggableRef = _ref.getDraggableRef,\n      canStartCapturing = _ref.canStartCapturing;\n  var state = {\n    isDragging: false\n  };\n\n  var setState = function setState(newState) {\n    state = newState;\n  };\n\n  var startDragging = function startDragging(fn) {\n    if (fn === void 0) {\n      fn = noop$1;\n    }\n\n    setState({\n      isDragging: true\n    });\n    bindWindowEvents();\n    fn();\n  };\n\n  var stopDragging = function stopDragging(postDragFn) {\n    if (postDragFn === void 0) {\n      postDragFn = noop$1;\n    }\n\n    schedule.cancel();\n    unbindWindowEvents();\n    setState({\n      isDragging: false\n    });\n    postDragFn();\n  };\n\n  var kill = function kill() {\n    if (state.isDragging) {\n      stopDragging();\n    }\n  };\n\n  var cancel = function cancel() {\n    stopDragging(callbacks.onCancel);\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var schedule = createScheduler(callbacks);\n\n  var onKeyDown = function onKeyDown(event) {\n    if (!isDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (!canStartCapturing(event)) {\n        return;\n      }\n\n      if (event.keyCode !== space) {\n        return;\n      }\n\n      var ref = getDraggableRef();\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n      var center = getBorderBoxCenterPosition(ref);\n      event.preventDefault();\n      startDragging(function () {\n        return callbacks.onLift({\n          clientSelection: center,\n          movementMode: 'SNAP'\n        });\n      });\n      return;\n    }\n\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n      return;\n    }\n\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n\n    preventStandardKeyEvents(event);\n  };\n\n  var windowBindings = [{\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: 'scroll',\n    options: {\n      capture: false\n    },\n    fn: callbacks.onWindowScroll\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    bindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    unbindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var sensor = {\n    onKeyDown: onKeyDown,\n    kill: kill,\n    isDragging: isDragging,\n    isCapturing: isDragging,\n    unmount: kill\n  };\n  return sensor;\n});\n\nvar timeForLongPress = 150;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\n\nvar noop$2 = function noop() {};\n\nvar webkitHack = function () {\n  var stub = {\n    preventTouchMove: noop$2,\n    releaseTouchMove: noop$2\n  };\n\n  if (typeof window === 'undefined') {\n    return stub;\n  }\n\n  if (!('ontouchstart' in window)) {\n    return stub;\n  }\n\n  var isBlocking = false;\n  window.addEventListener('touchmove', function (event) {\n    if (!isBlocking) {\n      return;\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n  }, {\n    passive: false,\n    capture: false\n  });\n\n  var preventTouchMove = function preventTouchMove() {\n    isBlocking = true;\n  };\n\n  var releaseTouchMove = function releaseTouchMove() {\n    isBlocking = false;\n  };\n\n  return {\n    preventTouchMove: preventTouchMove,\n    releaseTouchMove: releaseTouchMove\n  };\n}();\n\nvar initial = {\n  isDragging: false,\n  pending: null,\n  hasMoved: false,\n  longPressTimerId: null\n};\nvar createTouchSensor = (function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      canStartCapturing = _ref.canStartCapturing;\n  var state = initial;\n\n  var setState = function setState(partial) {\n    state = _extends({}, state, {}, partial);\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var isCapturing = function isCapturing() {\n    return Boolean(state.pending || state.isDragging || state.longPressTimerId);\n  };\n\n  var schedule = createScheduler(callbacks);\n  var postDragEventPreventer = createPostDragEventPreventer(getWindow);\n\n  var startDragging = function startDragging() {\n    var pending = state.pending;\n\n    if (!pending) {\n      stopPendingDrag();\n      process.env.NODE_ENV !== \"production\" ? invariant(false, 'cannot start a touch drag without a pending position') : invariant(false);\n    }\n\n    setState({\n      isDragging: true,\n      hasMoved: false,\n      pending: null,\n      longPressTimerId: null\n    });\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  };\n\n  var stopDragging = function stopDragging(fn) {\n    if (fn === void 0) {\n      fn = noop$2;\n    }\n\n    schedule.cancel();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    unbindWindowEvents();\n    postDragEventPreventer.preventNext();\n    setState(initial);\n    fn();\n  };\n\n  var startPendingDrag = function startPendingDrag(event) {\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n        clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setState({\n      longPressTimerId: longPressTimerId,\n      pending: point,\n      isDragging: false,\n      hasMoved: false\n    });\n    bindWindowEvents();\n  };\n\n  var stopPendingDrag = function stopPendingDrag() {\n    if (state.longPressTimerId) {\n      clearTimeout(state.longPressTimerId);\n    }\n\n    schedule.cancel();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    unbindWindowEvents();\n    setState(initial);\n  };\n\n  var kill = function kill(fn) {\n    if (fn === void 0) {\n      fn = noop$2;\n    }\n\n    if (state.pending) {\n      stopPendingDrag();\n      return;\n    }\n\n    if (state.isDragging) {\n      stopDragging(fn);\n    }\n  };\n\n  var unmount = function unmount() {\n    kill();\n    postDragEventPreventer.abort();\n  };\n\n  var cancel = function cancel() {\n    kill(callbacks.onCancel);\n  };\n\n  var windowBindings = [{\n    eventName: 'touchmove',\n    options: {\n      passive: false\n    },\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      if (!state.hasMoved) {\n        setState({\n          hasMoved: true\n        });\n      }\n\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      schedule.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onCancel);\n    }\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      schedule.windowScrollMove();\n    }\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      if (state.hasMoved) {\n        event.preventDefault();\n        return;\n      }\n\n      var touch = event.touches[0];\n\n      if (touch.force >= forcePressThreshold) {\n        cancel();\n      }\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    bindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    unbindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n\n    !!isCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    touchStartMarshal.handle();\n    webkitHack.preventTouchMove();\n    startPendingDrag(event);\n  };\n\n  var sensor = {\n    onTouchStart: onTouchStart,\n    kill: kill,\n    isCapturing: isCapturing,\n    isDragging: isDragging,\n    unmount: unmount\n  };\n  return sensor;\n});\n\nvar _DragHandle$contextTy;\n\nvar preventHtml5Dnd = function preventHtml5Dnd(event) {\n  event.preventDefault();\n};\n\nvar DragHandle = function (_Component) {\n  _inheritsLoose(DragHandle, _Component);\n\n  function DragHandle(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    _this.mouseSensor = void 0;\n    _this.keyboardSensor = void 0;\n    _this.touchSensor = void 0;\n    _this.sensors = void 0;\n    _this.styleContext = void 0;\n    _this.canLift = void 0;\n    _this.isFocused = false;\n    _this.lastDraggableRef = void 0;\n\n    _this.onFocus = function () {\n      _this.isFocused = true;\n    };\n\n    _this.onBlur = function () {\n      _this.isFocused = false;\n    };\n\n    _this.onKeyDown = function (event) {\n      if (_this.mouseSensor.isCapturing() || _this.touchSensor.isCapturing()) {\n        return;\n      }\n\n      _this.keyboardSensor.onKeyDown(event);\n    };\n\n    _this.onMouseDown = function (event) {\n      if (_this.keyboardSensor.isCapturing() || _this.mouseSensor.isCapturing()) {\n        return;\n      }\n\n      _this.mouseSensor.onMouseDown(event);\n    };\n\n    _this.onTouchStart = function (event) {\n      if (_this.mouseSensor.isCapturing() || _this.keyboardSensor.isCapturing()) {\n        return;\n      }\n\n      _this.touchSensor.onTouchStart(event);\n    };\n\n    _this.canStartCapturing = function (event) {\n      if (_this.isAnySensorCapturing()) {\n        return false;\n      }\n\n      if (!_this.canLift(_this.props.draggableId)) {\n        return false;\n      }\n\n      return shouldAllowDraggingFromTarget(event, _this.props);\n    };\n\n    _this.isAnySensorCapturing = function () {\n      return _this.sensors.some(function (sensor) {\n        return sensor.isCapturing();\n      });\n    };\n\n    _this.getProvided = memoizeOne(function (isEnabled) {\n      if (!isEnabled) {\n        return null;\n      }\n\n      var provided = {\n        onMouseDown: _this.onMouseDown,\n        onKeyDown: _this.onKeyDown,\n        onTouchStart: _this.onTouchStart,\n        onFocus: _this.onFocus,\n        onBlur: _this.onBlur,\n        tabIndex: 0,\n        'data-react-beautiful-dnd-drag-handle': _this.styleContext,\n        'aria-roledescription': 'Draggable item. Press space bar to lift',\n        draggable: false,\n        onDragStart: preventHtml5Dnd\n      };\n      return provided;\n    });\n\n    var getWindow = function getWindow() {\n      return getWindowFromEl(_this.props.getDraggableRef());\n    };\n\n    var args = {\n      callbacks: _this.props.callbacks,\n      getDraggableRef: _this.props.getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: _this.canStartCapturing\n    };\n    _this.mouseSensor = createMouseSensor(args);\n    _this.keyboardSensor = createKeyboardSensor(args);\n    _this.touchSensor = createTouchSensor(args);\n    _this.sensors = [_this.mouseSensor, _this.keyboardSensor, _this.touchSensor];\n    _this.styleContext = context[styleContextKey];\n    _this.canLift = context[canLiftContextKey];\n    return _this;\n  }\n\n  var _proto = DragHandle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var draggableRef = this.props.getDraggableRef();\n    this.lastDraggableRef = draggableRef;\n    !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get draggable ref from drag handle') : invariant(false) : void 0;\n\n    if (!this.props.isEnabled) {\n      return;\n    }\n\n    var dragHandleRef = getDragHandleRef(draggableRef);\n    retainer.tryRestoreFocus(this.props.draggableId, dragHandleRef);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    var ref = this.props.getDraggableRef();\n\n    if (ref !== this.lastDraggableRef) {\n      this.lastDraggableRef = ref;\n\n      if (ref && this.isFocused && this.props.isEnabled) {\n        getDragHandleRef(ref).focus();\n      }\n    }\n\n    var isCapturing = this.isAnySensorCapturing();\n\n    if (!isCapturing) {\n      return;\n    }\n\n    var isBeingDisabled = prevProps.isEnabled && !this.props.isEnabled;\n\n    if (isBeingDisabled) {\n      this.sensors.forEach(function (sensor) {\n        if (!sensor.isCapturing()) {\n          return;\n        }\n\n        var wasDragging = sensor.isDragging();\n        sensor.kill();\n\n        if (wasDragging) {\n          process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n\n          _this2.props.callbacks.onCancel();\n        }\n      });\n    }\n\n    var isDragAborted = prevProps.isDragging && !this.props.isDragging;\n\n    if (isDragAborted) {\n      this.sensors.forEach(function (sensor) {\n        if (sensor.isCapturing()) {\n          sensor.kill();\n        }\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this3 = this;\n\n    this.sensors.forEach(function (sensor) {\n      var wasDragging = sensor.isDragging();\n      sensor.unmount();\n\n      if (wasDragging) {\n        _this3.props.callbacks.onCancel();\n      }\n    });\n\n    var shouldRetainFocus = function () {\n      if (!_this3.props.isEnabled) {\n        return false;\n      }\n\n      if (!_this3.isFocused) {\n        return false;\n      }\n\n      return _this3.props.isDragging || _this3.props.isDropAnimating;\n    }();\n\n    if (shouldRetainFocus) {\n      retainer.retain(this.props.draggableId);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        isEnabled = _this$props.isEnabled;\n    return children(this.getProvided(isEnabled));\n  };\n\n  return DragHandle;\n}(Component);\n\nDragHandle.contextTypes = (_DragHandle$contextTy = {}, _DragHandle$contextTy[styleContextKey] = PropTypes.string.isRequired, _DragHandle$contextTy[canLiftContextKey] = PropTypes.func.isRequired, _DragHandle$contextTy);\n\nvar checkOwnProps$1 = (function (props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n});\n\nvar _Draggable$contextTyp;\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nvar Draggable = function (_Component) {\n  _inheritsLoose(Draggable, _Component);\n\n  function Draggable(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    _this.callbacks = void 0;\n    _this.styleContext = void 0;\n    _this.ref = null;\n\n    _this.onMoveEnd = function () {\n      if (_this.props.dragging && _this.props.dragging.dropping) {\n        _this.props.dropAnimationFinished();\n      }\n    };\n\n    _this.onLift = function (options) {\n      start('LIFT');\n      var ref = _this.ref;\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      !!_this.props.isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n      var clientSelection = options.clientSelection,\n          movementMode = options.movementMode;\n      var _this$props = _this.props,\n          lift = _this$props.lift,\n          draggableId = _this$props.draggableId;\n      lift({\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: movementMode\n      });\n      finish('LIFT');\n    };\n\n    _this.setRef = function (ref) {\n      if (ref === null) {\n        return;\n      }\n\n      if (ref === _this.ref) {\n        return;\n      }\n\n      _this.ref = ref;\n      throwIfRefIsInvalid(ref);\n    };\n\n    _this.getDraggableRef = function () {\n      return _this.ref;\n    };\n\n    _this.getDraggingStyle = memoizeOne(function (dragging) {\n      var dimension = dragging.dimension;\n      var box = dimension.client;\n      var offset$$1 = dragging.offset,\n          combineWith = dragging.combineWith,\n          dropping = dragging.dropping;\n      var isCombining = Boolean(combineWith);\n      var shouldAnimate = getShouldDraggingAnimate(dragging);\n      var isDropAnimating = Boolean(dropping);\n      var transform = isDropAnimating ? transforms.drop(offset$$1, isCombining) : transforms.moveTo(offset$$1);\n      var style = {\n        position: 'fixed',\n        top: box.marginBox.top,\n        left: box.marginBox.left,\n        boxSizing: 'border-box',\n        width: box.borderBox.width,\n        height: box.borderBox.height,\n        transition: getDraggingTransition(shouldAnimate, dropping),\n        transform: transform,\n        opacity: getDraggingOpacity(isCombining, isDropAnimating),\n        zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n        pointerEvents: 'none'\n      };\n      return style;\n    });\n    _this.getSecondaryStyle = memoizeOne(function (secondary) {\n      return {\n        transform: transforms.moveTo(secondary.offset),\n        transition: secondary.shouldAnimateDisplacement ? null : 'none'\n      };\n    });\n    _this.getDraggingProvided = memoizeOne(function (dragging, dragHandleProps) {\n      var style = _this.getDraggingStyle(dragging);\n\n      var isDropping = Boolean(dragging.dropping);\n      var provided = {\n        innerRef: _this.setRef,\n        draggableProps: {\n          'data-react-beautiful-dnd-draggable': _this.styleContext,\n          style: style,\n          onTransitionEnd: isDropping ? _this.onMoveEnd : null\n        },\n        dragHandleProps: dragHandleProps\n      };\n      return provided;\n    });\n    _this.getSecondaryProvided = memoizeOne(function (secondary, dragHandleProps) {\n      var style = _this.getSecondaryStyle(secondary);\n\n      var provided = {\n        innerRef: _this.setRef,\n        draggableProps: {\n          'data-react-beautiful-dnd-draggable': _this.styleContext,\n          style: style,\n          onTransitionEnd: null\n        },\n        dragHandleProps: dragHandleProps\n      };\n      return provided;\n    });\n    _this.getDraggingSnapshot = memoizeOne(function (dragging) {\n      return {\n        isDragging: true,\n        isDropAnimating: Boolean(dragging.dropping),\n        dropAnimation: dragging.dropping,\n        mode: dragging.mode,\n        draggingOver: dragging.draggingOver,\n        combineWith: dragging.combineWith,\n        combineTargetFor: null\n      };\n    });\n    _this.getSecondarySnapshot = memoizeOne(function (secondary) {\n      return {\n        isDragging: false,\n        isDropAnimating: false,\n        dropAnimation: null,\n        mode: null,\n        draggingOver: null,\n        combineTargetFor: secondary.combineTargetFor,\n        combineWith: null\n      };\n    });\n\n    _this.renderChildren = function (dragHandleProps) {\n      var dragging = _this.props.dragging;\n      var secondary = _this.props.secondary;\n      var children = _this.props.children;\n\n      if (dragging) {\n        var _child = children(_this.getDraggingProvided(dragging, dragHandleProps), _this.getDraggingSnapshot(dragging));\n\n        var placeholder = React.createElement(Placeholder, {\n          placeholder: dragging.dimension.placeholder\n        });\n        return React.createElement(Fragment, null, _child, placeholder);\n      }\n\n      !secondary ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'If no DraggingMapProps are provided, then SecondaryMapProps are required') : invariant(false) : void 0;\n      var child = children(_this.getSecondaryProvided(secondary, dragHandleProps), _this.getSecondarySnapshot(secondary));\n      return React.createElement(Fragment, null, child);\n    };\n\n    var callbacks = {\n      onLift: _this.onLift,\n      onMove: function onMove(clientSelection) {\n        return props.move({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return props.drop({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return props.drop({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: props.moveUp,\n      onMoveDown: props.moveDown,\n      onMoveRight: props.moveRight,\n      onMoveLeft: props.moveLeft,\n      onWindowScroll: function onWindowScroll() {\n        return props.moveByWindowScroll({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n    _this.callbacks = callbacks;\n    _this.styleContext = context[styleContextKey];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n    }\n\n    return _this;\n  }\n\n  var _proto = Draggable.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.ref = null;\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        draggableId = _this$props2.draggableId,\n        index = _this$props2.index,\n        dragging = _this$props2.dragging,\n        isDragDisabled = _this$props2.isDragDisabled,\n        disableInteractiveElementBlocking = _this$props2.disableInteractiveElementBlocking;\n    var droppableId = this.context[droppableIdKey];\n    var type = this.context[droppableTypeKey];\n    var isDragging = Boolean(dragging);\n    var isDropAnimating = Boolean(dragging && dragging.dropping);\n    return React.createElement(DraggableDimensionPublisher, {\n      key: draggableId,\n      draggableId: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index,\n      getDraggableRef: this.getDraggableRef\n    }, React.createElement(DragHandle, {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: this.callbacks,\n      getDraggableRef: this.getDraggableRef,\n      canDragInteractiveElements: disableInteractiveElementBlocking\n    }, this.renderChildren));\n  };\n\n  return Draggable;\n}(Component);\n\nDraggable.contextTypes = (_Draggable$contextTyp = {}, _Draggable$contextTyp[droppableIdKey] = PropTypes.string.isRequired, _Draggable$contextTyp[droppableTypeKey] = PropTypes.string.isRequired, _Draggable$contextTyp[styleContextKey] = PropTypes.string.isRequired, _Draggable$contextTyp);\n\nvar getCombineWith = function getCombineWith(impact) {\n  if (!impact.merge) {\n    return null;\n  }\n\n  return impact.merge.combine.draggableId;\n};\n\nvar defaultMapProps$1 = {\n  secondary: {\n    offset: origin,\n    combineTargetFor: null,\n    shouldAnimateDisplacement: true\n  },\n  dragging: null\n};\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset$$1, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      secondary: {\n        offset: offset$$1,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement\n      },\n      dragging: null\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset$$1, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      dragging: {\n        mode: mode,\n        dropping: null,\n        offset: offset$$1,\n        dimension: dimension,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        forceShouldAnimate: forceShouldAnimate\n      },\n      secondary: null\n    };\n  });\n\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset$$1 = memoizedOffset(displacedBy.x, displacedBy.y);\n\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset$$1 : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n\n    if (!displacement) {\n      return null;\n    }\n\n    if (!displacement.isVisible) {\n      return null;\n    }\n\n    return getSecondaryProps(offset$$1, null, displacement.shouldAnimate);\n  };\n\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset$$1 = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWith(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset$$1.x, offset$$1.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var pending = state.pending;\n\n      if (pending.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var _draggingOver = whatIsDraggedOver(pending.impact);\n\n      var _combineWith = getCombineWith(pending.impact);\n\n      var duration = pending.dropDuration;\n      var _mode = pending.result.mode;\n      return {\n        dragging: {\n          offset: pending.newHomeClientOffset,\n          dimension: state.dimensions.draggables[ownProps.draggableId],\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          dropping: {\n            duration: duration,\n            curve: curves.drop,\n            moveTo: pending.newHomeClientOffset,\n            opacity: _combineWith ? combine.opacity.drop : null,\n            scale: _combineWith ? combine.scale.drop : null\n          }\n        },\n        secondary: null\n      };\n    }\n\n    return null;\n  };\n\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      if (state.pending.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.pending.result.draggableId, state.pending.impact);\n    }\n\n    return null;\n  };\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps$1;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps, null, {\n  storeKey: storeKey,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\n\nexport { DragDropContext, ConnectedDroppable as Droppable, ConnectedDraggable as Draggable, resetServerContext };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}