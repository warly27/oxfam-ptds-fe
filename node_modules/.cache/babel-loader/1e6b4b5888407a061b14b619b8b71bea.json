{"ast":null,"code":"import _slicedToArray from\"/Users/wdelacruz/project_2021/matx-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Badge,Button,Card,Drawer,Icon,IconButton,ThemeProvider}from'@mui/material';import{Box,styled,useTheme}from'@mui/system';import useNotification from'app/hooks/useNotification';import useSettings from'app/hooks/useSettings';import{sideNavWidth,topBarHeight}from'app/utils/constant';import{getTimeDifference}from'app/utils/utils.js';import React,{Fragment}from'react';import{Link}from'react-router-dom';import{themeShadows}from'../MatxTheme/themeColors';import{Paragraph,Small}from'../Typography';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Notification=styled('div')(function(){return{padding:'16px',marginBottom:'16px',display:'flex',alignItems:'center',height:topBarHeight,boxShadow:themeShadows[6],'& h5':{marginLeft:'8px',marginTop:0,marginBottom:0,fontWeight:'500'}};});var NotificationCard=styled(Box)(function(_ref){var theme=_ref.theme;return{position:'relative','&:hover':{'& .messageTime':{display:'none'},'& .deleteButton':{opacity:'1'}},'& .messageTime':{color:theme.palette.text.secondary},'& .icon':{fontSize:'1.25rem'}};});var DeleteButton=styled(IconButton)(function(_ref2){var theme=_ref2.theme;return{opacity:'0',position:'absolute',right:5,marginTop:9,marginRight:'24px',background:'rgba(0, 0, 0, 0.01)'};});var CardLeftContent=styled('div')(function(_ref3){var theme=_ref3.theme;return{padding:'12px 8px',display:'flex',alignItems:'center',justifyContent:'space-between',background:'rgba(0, 0, 0, 0.01)','& small':{fontWeight:'500',marginLeft:'16px',color:theme.palette.text.secondary}};});var Heading=styled('span')(function(_ref4){var theme=_ref4.theme;return{fontWeight:'500',marginLeft:'16px',color:theme.palette.text.secondary};});var NotificationBar=function NotificationBar(_ref5){var container=_ref5.container;var _useSettings=useSettings(),settings=_useSettings.settings;var theme=useTheme();var secondary=theme.palette.text.secondary;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),panelOpen=_React$useState2[0],setPanelOpen=_React$useState2[1];var _useNotification=useNotification(),deleteNotification=_useNotification.deleteNotification,clearNotifications=_useNotification.clearNotifications,notifications=_useNotification.notifications;var handleDrawerToggle=function handleDrawerToggle(){setPanelOpen(!panelOpen);};var _useTheme=useTheme(),palette=_useTheme.palette;var textColor=palette.text.primary;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleDrawerToggle,children:/*#__PURE__*/_jsx(Badge,{color:\"secondary\",badgeContent:notifications===null||notifications===void 0?void 0:notifications.length,children:/*#__PURE__*/_jsx(Icon,{sx:{color:textColor},children:\"notifications\"})})}),/*#__PURE__*/_jsx(ThemeProvider,{theme:settings.themes[settings.activeTheme],children:/*#__PURE__*/_jsx(Drawer,{width:'100px',container:container,variant:\"temporary\",anchor:'right',open:panelOpen,onClose:handleDrawerToggle,ModalProps:{keepMounted:true},children:/*#__PURE__*/_jsxs(Box,{sx:{width:sideNavWidth},children:[/*#__PURE__*/_jsxs(Notification,{children:[/*#__PURE__*/_jsx(Icon,{color:\"primary\",children:\"notifications\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Notifications\"})]}),notifications===null||notifications===void 0?void 0:notifications.map(function(notification){return/*#__PURE__*/_jsxs(NotificationCard,{children:[/*#__PURE__*/_jsx(DeleteButton,{size:\"small\",className:\"deleteButton\",onClick:function onClick(){return deleteNotification(notification.id);},children:/*#__PURE__*/_jsx(Icon,{className:\"icon\",children:\"clear\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\".concat(notification.path),onClick:handleDrawerToggle,style:{textDecoration:'none'},children:/*#__PURE__*/_jsxs(Card,{sx:{mx:2,mb:3},elevation:3,children:[/*#__PURE__*/_jsxs(CardLeftContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",children:[/*#__PURE__*/_jsx(Icon,{className:\"icon\",color:notification.icon.color,children:notification.icon.name}),/*#__PURE__*/_jsx(Heading,{children:notification.heading})]}),/*#__PURE__*/_jsxs(Small,{className:\"messageTime\",children:[getTimeDifference(new Date(notification.timestamp)),\"ago\"]})]}),/*#__PURE__*/_jsxs(Box,{sx:{px:2,pt:1,pb:2},children:[/*#__PURE__*/_jsx(Paragraph,{sx:{m:0},children:notification.title}),/*#__PURE__*/_jsx(Small,{sx:{color:secondary},children:notification.subtitle})]})]})})]},notification.id);}),!!(notifications!==null&&notifications!==void 0&&notifications.length)&&/*#__PURE__*/_jsx(Box,{sx:{color:secondary},children:/*#__PURE__*/_jsx(Button,{onClick:clearNotifications,children:\"Clear Notifications\"})})]})})})]});};export default NotificationBar;","map":null,"metadata":{},"sourceType":"module"}