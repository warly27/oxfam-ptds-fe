{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/wdelacruz/project_2021/matx-react/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"/Users/wdelacruz/project_2021/matx-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{ButtonBase,Icon}from'@mui/material';import{Box,styled}from'@mui/system';import clsx from'clsx';import{useCallback,useEffect,useRef,useState}from'react';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavExpandRoot=styled('div')(function(_ref){var theme=_ref.theme;return{'& .expandIcon':{transition:'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',transform:'rotate(90deg)'},'& .collapseIcon':{transition:'transform 0.3s cubic-bezier(0, 0, 0.2, 1) 0ms',transform:'rotate(0deg)'},'& .expansion-panel':{overflow:'hidden',transition:'max-height 0.3s cubic-bezier(0, 0, 0.2, 1)'},'& .highlight':{background:theme.palette.primary.main},'&.compactNavItem':{width:44,overflow:'hidden',justifyContent:'center !important','& .itemText':{display:'none'},'& .itemIcon':{display:'none'}}};});var BaseButton=styled(ButtonBase)(function(_ref2){var theme=_ref2.theme;return{height:44,width:'100%',whiteSpace:'pre',overflow:'hidden',paddingRight:'16px',borderRadius:'4px',marginBottom:'8px',display:'flex',justifyContent:'space-between !important',color:theme.palette.text.primary,'&:hover':{background:'rgba(255, 255, 255, 0.08)'},'& .icon':{width:36,fontSize:'18px',paddingLeft:'16px',paddingRight:'16px',verticalAlign:'middle'}};});var BulletIcon=styled('div')(function(_ref3){var theme=_ref3.theme;return{width:4,height:4,color:'inherit',overflow:'hidden',marginLeft:'20px',marginRight:'8px',borderRadius:'300px !important',// background: theme.palette.primary.contrastText,\nbackground:theme.palette.text.primary};});var ItemText=styled('span')(function(){return{fontSize:'0.875rem',paddingLeft:'0.8rem',verticalAlign:'middle'};});var BadgeValue=styled('div')(function(){return{padding:'1px 4px',overflow:'hidden',borderRadius:'300px'};});var MatxVerticalNavExpansionPanel=function MatxVerticalNavExpansionPanel(_ref4){var item=_ref4.item,children=_ref4.children,mode=_ref4.mode;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),collapsed=_useState2[0],setCollapsed=_useState2[1];var elementRef=useRef(null);var componentHeight=useRef(0);var _useLocation=useLocation(),pathname=_useLocation.pathname;var name=item.name,icon=item.icon,iconText=item.iconText,badge=item.badge;var handleClick=function handleClick(){componentHeight.current=0;calcaulateHeight(elementRef.current);setCollapsed(!collapsed);};var calcaulateHeight=useCallback(function(node){if(node.name!=='child'){var _iterator=_createForOfIteratorHelper(node.children),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;calcaulateHeight(child);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}if(node.name==='child')componentHeight.current+=node.scrollHeight;else componentHeight.current+=44;//here 44 is node height\nreturn;},[]);useEffect(function(){if(!elementRef)return;calcaulateHeight(elementRef.current);// OPEN DROPDOWN IF CHILD IS ACTIVE\nvar _iterator2=_createForOfIteratorHelper(elementRef.current.children),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var child=_step2.value;if(child.getAttribute('href')===pathname){setCollapsed(false);}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}},[pathname,calcaulateHeight]);return/*#__PURE__*/_jsxs(NavExpandRoot,{children:[/*#__PURE__*/_jsxs(BaseButton,{className:clsx({'has-submenu compactNavItem':true,compactNavItem:mode==='compact',open:!collapsed}),onClick:handleClick,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",children:[icon&&/*#__PURE__*/_jsx(Icon,{className:\"icon\",children:icon}),iconText&&/*#__PURE__*/_jsx(BulletIcon,{}),/*#__PURE__*/_jsx(ItemText,{className:\"sidenavHoverShow\",children:name})]}),badge&&/*#__PURE__*/_jsx(BadgeValue,{className:\"sidenavHoverShow itemIcon\",children:badge.value}),/*#__PURE__*/_jsx(\"div\",{className:clsx({sidenavHoverShow:true,collapseIcon:collapsed,expandIcon:!collapsed}),children:/*#__PURE__*/_jsx(Icon,{fontSize:\"small\",sx:{verticalAlign:'middle'},children:\"chevron_right\"})})]}),/*#__PURE__*/_jsx(\"div\",{ref:elementRef,className:\"expansion-panel submenu\",style:collapsed?{maxHeight:'0px'}:{maxHeight:componentHeight.current+'px'},children:children})]});};export default MatxVerticalNavExpansionPanel;","map":null,"metadata":{},"sourceType":"module"}